<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>Email Configuration Guide - Bug Reporting Dialog | Krypton Standard Toolkit Documentation </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="Email Configuration Guide - Bug Reporting Dialog | Krypton Standard Toolkit Documentation ">
    
    
      <link rel="shortcut icon" href="../../../Krypton.ico">
      <link rel="stylesheet" href="../../../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../../../styles/docfx.css">
      <link rel="stylesheet" href="../../../styles/main.css">
      <meta property="docfx:navrel" content="../../../toc.html">
      <meta property="docfx:tocrel" content="../../toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../Logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="email-configuration-guide---bug-reporting-dialog">Email Configuration Guide - Bug Reporting Dialog</h1>

<h2 id="overview">Overview</h2>
<p>The <code>BugReportEmailConfig</code> class provides configuration for SMTP email settings used by the bug reporting dialog to send bug reports via email. This guide covers how to configure email settings for various email providers.</p>
<h2 id="namespace">Namespace</h2>
<pre><code class="lang-csharp">using Krypton.Utilities;
</code></pre>
<h2 id="bugreportemailconfig-class">BugReportEmailConfig Class</h2>
<h3 id="properties">Properties</h3>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SmtpServer</code></td>
<td><code>string</code></td>
<td>Yes</td>
<td><code>string.Empty</code></td>
<td>SMTP server address (e.g., &quot;smtp.gmail.com&quot;)</td>
</tr>
<tr>
<td><code>SmtpPort</code></td>
<td><code>int</code></td>
<td>Yes</td>
<td><code>587</code></td>
<td>SMTP server port (commonly 25, 465, or 587)</td>
</tr>
<tr>
<td><code>UseSsl</code></td>
<td><code>bool</code></td>
<td>No</td>
<td><code>true</code></td>
<td>Whether to use SSL/TLS encryption</td>
</tr>
<tr>
<td><code>FromEmail</code></td>
<td><code>string</code></td>
<td>Yes</td>
<td><code>string.Empty</code></td>
<td>Sender email address</td>
</tr>
<tr>
<td><code>ToEmail</code></td>
<td><code>string</code></td>
<td>Yes</td>
<td><code>string.Empty</code></td>
<td>Recipient email address (where bug reports are sent)</td>
</tr>
<tr>
<td><code>Username</code></td>
<td><code>string</code></td>
<td>No*</td>
<td><code>string.Empty</code></td>
<td>SMTP username for authentication</td>
</tr>
<tr>
<td><code>Password</code></td>
<td><code>string</code></td>
<td>No*</td>
<td><code>string.Empty</code></td>
<td>SMTP password for authentication</td>
</tr>
<tr>
<td><code>RequiresAuthentication</code></td>
<td><code>bool</code></td>
<td>Read-only</td>
<td>Computed</td>
<td>Indicates if authentication is required (true if Username is set)</td>
</tr>
</tbody>
</table>
<p>*Required if SMTP server requires authentication</p>
<h3 id="constructor">Constructor</h3>
<pre><code class="lang-csharp">public BugReportEmailConfig()
</code></pre>
<p>Creates a new instance with default values:</p>
<ul>
<li><code>SmtpPort</code>: 587</li>
<li><code>UseSsl</code>: true</li>
<li>All string properties: <code>string.Empty</code></li>
</ul>
<h2 id="common-email-provider-configurations">Common Email Provider Configurations</h2>
<h3 id="gmail">Gmail</h3>
<p>Gmail requires an App Password (not your regular password) for SMTP access.</p>
<p><strong>Steps to Enable:</strong></p>
<ol>
<li>Enable 2-Step Verification in your Google Account</li>
<li>Generate an App Password:
<ul>
<li>Go to Google Account → Security → 2-Step Verification → App passwords</li>
<li>Select &quot;Mail&quot; and &quot;Other (Custom name)&quot;</li>
<li>Copy the generated 16-character password</li>
</ul>
</li>
</ol>
<p><strong>Configuration:</strong></p>
<pre><code class="lang-csharp">var emailConfig = new BugReportEmailConfig
{
    SmtpServer = &quot;smtp.gmail.com&quot;,
    SmtpPort = 587,
    UseSsl = true,
    FromEmail = &quot;youremail@gmail.com&quot;,
    ToEmail = &quot;bugs@yourcompany.com&quot;,
    Username = &quot;youremail@gmail.com&quot;,
    Password = &quot;your-16-character-app-password&quot;
};
</code></pre>
<p><strong>Alternative (Port 465):</strong></p>
<pre><code class="lang-csharp">var emailConfig = new BugReportEmailConfig
{
    SmtpServer = &quot;smtp.gmail.com&quot;,
    SmtpPort = 465,
    UseSsl = true,
    FromEmail = &quot;youremail@gmail.com&quot;,
    ToEmail = &quot;bugs@yourcompany.com&quot;,
    Username = &quot;youremail@gmail.com&quot;,
    Password = &quot;your-app-password&quot;
};
</code></pre>
<h3 id="outlookhotmail">Outlook/Hotmail</h3>
<p><strong>Configuration:</strong></p>
<pre><code class="lang-csharp">var emailConfig = new BugReportEmailConfig
{
    SmtpServer = &quot;smtp-mail.outlook.com&quot;,
    SmtpPort = 587,
    UseSsl = true,
    FromEmail = &quot;youremail@outlook.com&quot;,
    ToEmail = &quot;bugs@yourcompany.com&quot;,
    Username = &quot;youremail@outlook.com&quot;,
    Password = &quot;your-password&quot;
};
</code></pre>
<h3 id="office-365">Office 365</h3>
<p><strong>Configuration:</strong></p>
<pre><code class="lang-csharp">var emailConfig = new BugReportEmailConfig
{
    SmtpServer = &quot;smtp.office365.com&quot;,
    SmtpPort = 587,
    UseSsl = true,
    FromEmail = &quot;youremail@yourcompany.com&quot;,
    ToEmail = &quot;bugs@yourcompany.com&quot;,
    Username = &quot;youremail@yourcompany.com&quot;,
    Password = &quot;your-password&quot;
};
</code></pre>
<h3 id="yahoo-mail">Yahoo Mail</h3>
<p><strong>Configuration:</strong></p>
<pre><code class="lang-csharp">var emailConfig = new BugReportEmailConfig
{
    SmtpServer = &quot;smtp.mail.yahoo.com&quot;,
    SmtpPort = 587,
    UseSsl = true,
    FromEmail = &quot;youremail@yahoo.com&quot;,
    ToEmail = &quot;bugs@yourcompany.com&quot;,
    Username = &quot;youremail@yahoo.com&quot;,
    Password = &quot;your-app-password&quot; // Requires App Password
};
</code></pre>
<h3 id="custom-smtp-server">Custom SMTP Server</h3>
<p><strong>Configuration:</strong></p>
<pre><code class="lang-csharp">var emailConfig = new BugReportEmailConfig
{
    SmtpServer = &quot;mail.yourcompany.com&quot;,
    SmtpPort = 587, // or 25, 465, etc.
    UseSsl = true, // Set to false if server doesn't support SSL
    FromEmail = &quot;noreply@yourcompany.com&quot;,
    ToEmail = &quot;bugs@yourcompany.com&quot;,
    Username = &quot;smtp-username&quot;, // Optional, if authentication required
    Password = &quot;smtp-password&quot;   // Optional, if authentication required
};
</code></pre>
<p><strong>Without Authentication:</strong></p>
<pre><code class="lang-csharp">var emailConfig = new BugReportEmailConfig
{
    SmtpServer = &quot;mail.yourcompany.com&quot;,
    SmtpPort = 25,
    UseSsl = false,
    FromEmail = &quot;noreply@yourcompany.com&quot;,
    ToEmail = &quot;bugs@yourcompany.com&quot;
    // Username and Password not required
};
</code></pre>
<h2 id="port-numbers">Port Numbers</h2>
<p>Common SMTP ports:</p>
<table>
<thead>
<tr>
<th>Port</th>
<th>Protocol</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>25</td>
<td>SMTP</td>
<td>Standard SMTP (often blocked by ISPs)</td>
</tr>
<tr>
<td>465</td>
<td>SMTPS</td>
<td>SMTP over SSL (legacy, but still used)</td>
</tr>
<tr>
<td>587</td>
<td>SMTP + STARTTLS</td>
<td>Modern standard, recommended</td>
</tr>
</tbody>
</table>
<p><strong>Recommendation:</strong> Use port 587 with <code>UseSsl = true</code> for most modern email providers.</p>
<h2 id="security-best-practices">Security Best Practices</h2>
<h3 id="1-never-hardcode-credentials">1. Never Hardcode Credentials</h3>
<p>❌ <strong>Bad:</strong></p>
<pre><code class="lang-csharp">var emailConfig = new BugReportEmailConfig
{
    Password = &quot;MyPassword123!&quot; // Never do this!
};
</code></pre>
<p>✅ <strong>Good:</strong></p>
<pre><code class="lang-csharp">// Load from secure configuration
var emailConfig = LoadEmailConfigFromSecureStorage();
</code></pre>
<h3 id="2-use-app-passwords">2. Use App Passwords</h3>
<p>For providers that support it (Gmail, Yahoo), use App Passwords instead of your main account password.</p>
<h3 id="3-store-configuration-securely">3. Store Configuration Securely</h3>
<p><strong>Options:</strong></p>
<ul>
<li>Encrypted configuration files</li>
<li>Windows Credential Manager</li>
<li>Environment variables (for server deployments)</li>
<li>Secure vaults (Azure Key Vault, AWS Secrets Manager, etc.)</li>
</ul>
<h3 id="4-example-loading-from-configuration-file">4. Example: Loading from Configuration File</h3>
<pre><code class="lang-csharp">public static BugReportEmailConfig LoadEmailConfig()
{
    // Example: Load from app.config or appsettings.json
    return new BugReportEmailConfig
    {
        SmtpServer = ConfigurationManager.AppSettings[&quot;SmtpServer&quot;],
        SmtpPort = int.Parse(ConfigurationManager.AppSettings[&quot;SmtpPort&quot;]),
        UseSsl = bool.Parse(ConfigurationManager.AppSettings[&quot;UseSsl&quot;]),
        FromEmail = ConfigurationManager.AppSettings[&quot;FromEmail&quot;],
        ToEmail = ConfigurationManager.AppSettings[&quot;ToEmail&quot;],
        Username = ConfigurationManager.AppSettings[&quot;SmtpUsername&quot;],
        Password = DecryptPassword(ConfigurationManager.AppSettings[&quot;SmtpPassword&quot;])
    };
}
</code></pre>
<h3 id="5-example-using-environment-variables">5. Example: Using Environment Variables</h3>
<pre><code class="lang-csharp">public static BugReportEmailConfig LoadEmailConfigFromEnvironment()
{
    return new BugReportEmailConfig
    {
        SmtpServer = Environment.GetEnvironmentVariable(&quot;SMTP_SERVER&quot;),
        SmtpPort = int.Parse(Environment.GetEnvironmentVariable(&quot;SMTP_PORT&quot;) ?? &quot;587&quot;),
        UseSsl = bool.Parse(Environment.GetEnvironmentVariable(&quot;SMTP_USE_SSL&quot;) ?? &quot;true&quot;),
        FromEmail = Environment.GetEnvironmentVariable(&quot;SMTP_FROM_EMAIL&quot;),
        ToEmail = Environment.GetEnvironmentVariable(&quot;SMTP_TO_EMAIL&quot;),
        Username = Environment.GetEnvironmentVariable(&quot;SMTP_USERNAME&quot;),
        Password = Environment.GetEnvironmentVariable(&quot;SMTP_PASSWORD&quot;)
    };
}
</code></pre>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="common-issues">Common Issues</h3>
<h4 id="1-authentication-failed">1. Authentication Failed</h4>
<p><strong>Symptoms:</strong> Email sending fails with authentication error.</p>
<p><strong>Solutions:</strong></p>
<ul>
<li>Verify username and password are correct</li>
<li>For Gmail/Yahoo, ensure you're using an App Password, not your regular password</li>
<li>Check if 2-Step Verification is enabled (required for App Passwords)</li>
<li>Verify the <code>Username</code> property matches the <code>FromEmail</code> (for some providers)</li>
</ul>
<h4 id="2-connection-timeout">2. Connection Timeout</h4>
<p><strong>Symptoms:</strong> Email sending times out.</p>
<p><strong>Solutions:</strong></p>
<ul>
<li>Check firewall settings</li>
<li>Verify SMTP server address is correct</li>
<li>Try different port (587 vs 465)</li>
<li>Check if your ISP blocks port 25</li>
</ul>
<h4 id="3-ssltls-errors">3. SSL/TLS Errors</h4>
<p><strong>Symptoms:</strong> SSL handshake fails.</p>
<p><strong>Solutions:</strong></p>
<ul>
<li>Verify <code>UseSsl</code> matches server requirements</li>
<li>For port 587, use <code>UseSsl = true</code> (STARTTLS)</li>
<li>For port 465, use <code>UseSsl = true</code> (implicit SSL)</li>
<li>For port 25, try <code>UseSsl = false</code></li>
</ul>
<h4 id="4-port-blocked">4. Port Blocked</h4>
<p><strong>Symptoms:</strong> Cannot connect to SMTP server.</p>
<p><strong>Solutions:</strong></p>
<ul>
<li>Try port 587 instead of 25 (most ISPs block port 25)</li>
<li>Check corporate firewall settings</li>
<li>Verify SMTP server allows connections from your IP</li>
</ul>
<h3 id="testing-email-configuration">Testing Email Configuration</h3>
<pre><code class="lang-csharp">public static bool TestEmailConfiguration(BugReportEmailConfig config)
{
    try
    {
        var service = new BugReportEmailService();
        var success = service.SendBugReport(
            config,
            &quot;Test Email&quot;,
            &quot;This is a test email from the bug reporting system.&quot;,
            null
        );
        
        if (success)
        {
            MessageBox.Show(&quot;Email configuration is working correctly!&quot;, 
                &quot;Success&quot;, MessageBoxButtons.OK, MessageBoxIcon.Information);
            return true;
        }
        else
        {
            MessageBox.Show(&quot;Failed to send test email. Please check your configuration.&quot;, 
                &quot;Error&quot;, MessageBoxButtons.OK, MessageBoxIcon.Error);
            return false;
        }
    }
    catch (Exception ex)
    {
        MessageBox.Show($&quot;Error testing email configuration:\n\n{ex.Message}&quot;, 
            &quot;Error&quot;, MessageBoxButtons.OK, MessageBoxIcon.Error);
        return false;
    }
}
</code></pre>
<h2 id="usage-example">Usage Example</h2>
<pre><code class="lang-csharp">using Krypton.Utilities;

// Load email configuration
var emailConfig = LoadEmailConfigFromSecureStorage();

// Show bug reporting dialog
var result = KryptonBugReportingDialog.Show(exception, emailConfig);

if (result == DialogResult.OK)
{
    // Bug report sent successfully
    MessageBox.Show(&quot;Thank you for reporting this bug!&quot;);
}
</code></pre>
<h2 id="related-documentation">Related Documentation</h2>
<ul>
<li><a href="BugReportingDialog.html">Bug Reporting Dialog Documentation</a></li>
<li><a href="BugReportingDialog-API.md">Bug Reporting Dialog API Reference</a></li>
<li><a href="BugReportingDialog-Examples.md">Bug Reporting Dialog Examples</a></li>
<li><a href="BugReportingDialog-QuickReference.md">Bug Reporting Dialog Quick Reference</a></li>
</ul>

</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      <span>Krypton Component Suite 2024
BSD 3-Clause License
© Component Factory Pty Ltd, 2006 - 2016, All rights reserved.</span> <span>Modifications by Peter Wagner (aka Wagnerp), Simon Coghlan (aka Smurf-IV), Giduac, Tobitege, Lesarndro, KamaniAR & Ahmed Abdelhameed et al. 2017 - 2025. All rights reserved. <a href="https://github.com/Krypton-Suite">https://github.com/Krypton-Suite</a></span>
      
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../../../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
