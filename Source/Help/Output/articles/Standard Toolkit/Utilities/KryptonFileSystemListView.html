<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>KryptonFileSystemListView | Krypton Standard Toolkit Documentation </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="KryptonFileSystemListView | Krypton Standard Toolkit Documentation ">
    
    
      <link rel="shortcut icon" href="../../../Krypton.ico">
      <link rel="stylesheet" href="../../../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../../../styles/docfx.css">
      <link rel="stylesheet" href="../../../styles/main.css">
      <meta property="docfx:navrel" content="../../../toc.html">
      <meta property="docfx:tocrel" content="../../toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../Logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="kryptonfilesystemlistview">KryptonFileSystemListView</h1>

<h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li><a href="#overview">Overview</a></li>
<li><a href="#features">Features</a></li>
<li><a href="#architecture">Architecture</a></li>
<li><a href="#api-reference">API Reference</a></li>
<li><a href="#usage-examples">Usage Examples</a></li>
<li><a href="#properties-reference">Properties Reference</a></li>
<li><a href="#methods-reference">Methods Reference</a></li>
<li><a href="#events-reference">Events Reference</a></li>
<li><a href="#related-classes">Related Classes</a></li>
<li><a href="#icon-management">Icon Management</a></li>
<li><a href="#best-practices">Best Practices</a></li>
<li><a href="#known-limitations">Known Limitations</a></li>
<li><a href="#troubleshooting">Troubleshooting</a></li>
</ol>
<hr>
<h2 id="overview">Overview</h2>
<p><code>KryptonFileSystemListView</code> is a specialized WinForms ListView control that provides a file system browser interface with native Windows icons, file type detection, and comprehensive file system navigation capabilities. It extends <code>KryptonListView</code> to provide a Krypton-styled, feature-rich file browser component.</p>
<h3 id="key-capabilities">Key Capabilities</h3>
<ul>
<li><strong>File System Navigation</strong>: Browse directories with double-click navigation</li>
<li><strong>Native Icon Support</strong>: Displays Windows shell icons for files and folders</li>
<li><strong>File Filtering</strong>: Filter files by extension patterns</li>
<li><strong>Hidden/System File Control</strong>: Toggle visibility of hidden and system files</li>
<li><strong>Column Details View</strong>: Shows Name, Type, Size, and Date Modified columns</li>
<li><strong>Icon Caching</strong>: Efficient icon caching to improve performance</li>
<li><strong>Error Handling</strong>: Comprehensive error event system for file system access issues</li>
</ul>
<h3 id="namespace">Namespace</h3>
<pre><code class="lang-csharp">using Krypton.Utilities;
</code></pre>
<h3 id="inheritance-hierarchy">Inheritance Hierarchy</h3>
<pre><code>System.Object
  └─ System.MarshalByRefObject
      └─ System.ComponentModel.Component
          └─ System.Windows.Forms.Control
              └─ System.Windows.Forms.ListView
                  └─ Krypton.Toolkit.KryptonListView
                      └─ Krypton.Utilities.KryptonFileSystemListView
</code></pre>
<hr>
<h2 id="features">Features</h2>
<h3 id="core-features">Core Features</h3>
<ol>
<li><p><strong>Directory Navigation</strong></p>
<ul>
<li>Navigate to any directory path</li>
<li>Double-click folders to navigate into them</li>
<li>Parent directory navigation via &quot;..&quot; item</li>
<li>Automatic path validation</li>
</ul>
</li>
<li><p><strong>File Display</strong></p>
<ul>
<li>Display files and folders with proper icons</li>
<li>File type detection and description</li>
<li>File size formatting (B, KB, MB, GB, TB)</li>
<li>Last modified date display</li>
<li>Configurable file filtering</li>
</ul>
</li>
<li><p><strong>Icon Management</strong></p>
<ul>
<li>Windows shell icon extraction</li>
<li>Icon caching for performance</li>
<li>Support for both small (16x16) and large (32x32) icons</li>
<li>Fallback icon system for missing icons</li>
</ul>
</li>
<li><p><strong>View Modes</strong></p>
<ul>
<li>Details view (default) with columns</li>
<li>Support for other ListView view modes</li>
<li>Auto-resize columns functionality</li>
</ul>
</li>
<li><p><strong>Filtering Options</strong></p>
<ul>
<li>Show/hide files</li>
<li>Show/hide hidden files</li>
<li>Show/hide system files</li>
<li>File extension filtering (e.g., &quot;<em>.txt&quot;, &quot;</em>.txt;*.doc&quot;)</li>
</ul>
</li>
<li><p><strong>Error Handling</strong></p>
<ul>
<li>File system error events</li>
<li>Graceful handling of access denied errors</li>
<li>Directory not found handling</li>
</ul>
</li>
</ol>
<hr>
<h2 id="architecture">Architecture</h2>
<h3 id="component-structure">Component Structure</h3>
<pre><code>KryptonFileSystemListView
├── FileSystemListViewValues (expandable properties)
│   ├── CurrentPath
│   ├── ShowFiles
│   ├── ShowHiddenFiles
│   ├── ShowSystemFiles
│   ├── FileFilter
│   └── UseLargeIcons
├── ImageList (icon storage)
├── IconCache (Dictionary&lt;string, int&gt;)
└── Event Handlers
    ├── PathChanged
    └── FileSystemError
</code></pre>
<h3 id="key-components">Key Components</h3>
<ol>
<li><strong>FileSystemListViewValues</strong>: Groups file system-specific properties in an expandable PropertyGrid object</li>
<li><strong>ImageList</strong>: Stores icons for display (16x16 or 32x32 pixels)</li>
<li><strong>IconCache</strong>: Dictionary caching icon indices by file extension or directory marker</li>
<li><strong>Helper Classes</strong>:
<ul>
<li><code>FileSystemIconHelper</code>: Extracts icons from Windows shell</li>
<li><code>StockIconHelper</code>: Provides fallback stock icons</li>
<li><code>KryptonFileSystemListViewStrings</code>: Localizable string resources</li>
</ul>
</li>
</ol>
<h3 id="data-flow">Data Flow</h3>
<ol>
<li><strong>Navigation</strong>: <code>NavigateTo(path)</code> → <code>Reload()</code> → <code>LoadDirectory()</code> → <code>CreateDirectoryItem()</code> / <code>CreateFileItem()</code></li>
<li><strong>Icon Loading</strong>: <code>GetIconIndex()</code> → Check cache → Extract icon → Add to ImageList → Cache index</li>
<li><strong>Property Changes</strong>: Property setter → <code>Reload()</code> → Refresh display</li>
</ol>
<hr>
<h2 id="api-reference">API Reference</h2>
<h3 id="class-declaration">Class Declaration</h3>
<pre><code class="lang-csharp">[ToolboxItem(true)]
[ToolboxBitmap(typeof(KryptonListView))]
[DefaultEvent(nameof(SelectedIndexChanged))]
[DefaultProperty(nameof(FileSystemListViewValues.CurrentPath))]
[DesignerCategory(@&quot;code&quot;)]
[Description(@&quot;Displays a file system list with folder and file icons.&quot;)]
[Docking(DockingBehavior.Ask)]
public class KryptonFileSystemListView : KryptonListView
</code></pre>
<h3 id="constructor">Constructor</h3>
<pre><code class="lang-csharp">public KryptonFileSystemListView()
</code></pre>
<p>Initializes a new instance with default settings:</p>
<ul>
<li>View mode: Details</li>
<li>FullRowSelect: true</li>
<li>GridLines: true</li>
<li>AllowColumnReorder: true</li>
<li>Icon size: 16x16 (small icons)</li>
<li>Default columns: Name, Type, Size, Date Modified</li>
</ul>
<hr>
<h2 id="properties-reference">Properties Reference</h2>
<h3 id="public-properties">Public Properties</h3>
<h4 id="filesystemlistviewvalues">FileSystemListViewValues</h4>
<pre><code class="lang-csharp">public FileSystemListViewValues FileSystemListViewValues { get; }
</code></pre>
<p>Gets the file system ListView values object containing all file system-specific properties. This is an expandable object that groups related properties for better PropertyGrid organization.</p>
<p><strong>Access Pattern:</strong></p>
<pre><code class="lang-csharp">fileSystemListView.FileSystemListViewValues.CurrentPath = @&quot;C:\Users&quot;;
fileSystemListView.FileSystemListViewValues.ShowFiles = true;
fileSystemListView.FileSystemListViewValues.FileFilter = &quot;*.txt;*.doc&quot;;
</code></pre>
<h4 id="view-overridden">View (Overridden)</h4>
<pre><code class="lang-csharp">[DefaultValue(View.Details)]
public new View View { get; set; }
</code></pre>
<p>Gets or sets how items are displayed in the control. When set to <code>View.Details</code>, columns are automatically set up if they don't exist.</p>
<p><strong>Supported Values:</strong></p>
<ul>
<li><code>View.Details</code> (default): Shows columns with file information</li>
<li><code>View.LargeIcon</code>: Large icon view</li>
<li><code>View.SmallIcon</code>: Small icon view</li>
<li><code>View.List</code>: List view</li>
<li><code>View.Tile</code>: Tile view</li>
</ul>
<p><strong>Note:</strong> Columns are only created/used in Details view.</p>
<h4 id="iconcache-internal">IconCache (Internal)</h4>
<pre><code class="lang-csharp">internal Dictionary&lt;string, int&gt; IconCache { get; }
</code></pre>
<p>Gets the internal icon cache dictionary. Keys are file extensions (lowercase) or <code>&quot;__DIRECTORY__&quot;</code> for folders. Values are ImageList indices.</p>
<p><strong>Note:</strong> This property is internal and primarily used by the control itself.</p>
<hr>
<h3 id="filesystemlistviewvalues-properties">FileSystemListViewValues Properties</h3>
<p>All file system properties are accessed through the <code>FileSystemListViewValues</code> property:</p>
<h4 id="currentpath">CurrentPath</h4>
<pre><code class="lang-csharp">public string CurrentPath { get; set; }
</code></pre>
<p>Gets or sets the current directory path to display in the list view.</p>
<ul>
<li><strong>Type</strong>: <code>string</code></li>
<li><strong>Default</strong>: <code>&quot;&quot;</code> (empty string)</li>
<li><strong>Category</strong>: Behavior</li>
<li><strong>Description</strong>: The current directory path to display in the list view.</li>
</ul>
<p><strong>Behavior:</strong></p>
<ul>
<li>Setting this property automatically calls <code>Reload()</code> to refresh the display</li>
<li>Empty string or null values are converted to empty string</li>
<li>The path is validated when <code>NavigateTo()</code> is called</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">fileSystemListView.FileSystemListViewValues.CurrentPath = @&quot;C:\Program Files&quot;;
</code></pre>
<h4 id="showfiles">ShowFiles</h4>
<pre><code class="lang-csharp">public bool ShowFiles { get; set; }
</code></pre>
<p>Gets or sets a value indicating whether files should be displayed in the list view.</p>
<ul>
<li><strong>Type</strong>: <code>bool</code></li>
<li><strong>Default</strong>: <code>true</code></li>
<li><strong>Category</strong>: Behavior</li>
<li><strong>Description</strong>: Indicates whether files should be displayed in the list view.</li>
</ul>
<p><strong>Behavior:</strong></p>
<ul>
<li>When <code>false</code>, only directories are displayed</li>
<li>Changing this property triggers <code>Reload()</code></li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">// Show only directories
fileSystemListView.FileSystemListViewValues.ShowFiles = false;
</code></pre>
<h4 id="showhiddenfiles">ShowHiddenFiles</h4>
<pre><code class="lang-csharp">public bool ShowHiddenFiles { get; set; }
</code></pre>
<p>Gets or sets a value indicating whether hidden files should be displayed.</p>
<ul>
<li><strong>Type</strong>: <code>bool</code></li>
<li><strong>Default</strong>: <code>false</code></li>
<li><strong>Category</strong>: Behavior</li>
<li><strong>Description</strong>: Indicates whether hidden files should be displayed.</li>
</ul>
<p><strong>Behavior:</strong></p>
<ul>
<li>Files and folders with <code>FileAttributes.Hidden</code> are filtered based on this setting</li>
<li>Changing this property triggers <code>Reload()</code></li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">fileSystemListView.FileSystemListViewValues.ShowHiddenFiles = true;
</code></pre>
<h4 id="showsystemfiles">ShowSystemFiles</h4>
<pre><code class="lang-csharp">public bool ShowSystemFiles { get; set; }
</code></pre>
<p>Gets or sets a value indicating whether system files should be displayed.</p>
<ul>
<li><strong>Type</strong>: <code>bool</code></li>
<li><strong>Default</strong>: <code>false</code></li>
<li><strong>Category</strong>: Behavior</li>
<li><strong>Description</strong>: Indicates whether system files should be displayed.</li>
</ul>
<p><strong>Behavior:</strong></p>
<ul>
<li>Files and folders with <code>FileAttributes.System</code> are filtered based on this setting</li>
<li>Changing this property triggers <code>Reload()</code></li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">fileSystemListView.FileSystemListViewValues.ShowSystemFiles = true;
</code></pre>
<h4 id="filefilter">FileFilter</h4>
<pre><code class="lang-csharp">public string FileFilter { get; set; }
</code></pre>
<p>Gets or sets the file filter to apply when showing files.</p>
<ul>
<li><strong>Type</strong>: <code>string</code></li>
<li><strong>Default</strong>: <code>&quot;*.*&quot;</code> (all files)</li>
<li><strong>Category</strong>: Behavior</li>
<li><strong>Description</strong>: The file filter to apply when showing files (e.g., &quot;<em>.txt&quot; or &quot;</em>.txt;*.doc&quot;).</li>
</ul>
<p><strong>Filter Syntax:</strong></p>
<ul>
<li>Single pattern: <code>&quot;*.txt&quot;</code> - shows only .txt files</li>
<li>Multiple patterns: <code>&quot;*.txt;*.doc;*.pdf&quot;</code> - shows files matching any pattern</li>
<li>All files: <code>&quot;*.*&quot;</code> - shows all files</li>
</ul>
<p><strong>Behavior:</strong></p>
<ul>
<li>Used with <code>Directory.GetFiles(directoryPath, filter)</code></li>
<li>Changing this property triggers <code>Reload()</code> only if <code>ShowFiles</code> is <code>true</code></li>
<li>Null values are converted to <code>&quot;*.*&quot;</code></li>
</ul>
<p><strong>Examples:</strong></p>
<pre><code class="lang-csharp">// Show only text files
fileSystemListView.FileSystemListViewValues.FileFilter = &quot;*.txt&quot;;

// Show multiple file types
fileSystemListView.FileSystemListViewValues.FileFilter = &quot;*.txt;*.doc;*.pdf&quot;;

// Show all files (default)
fileSystemListView.FileSystemListViewValues.FileFilter = &quot;*.*&quot;;
</code></pre>
<h4 id="uselargeicons">UseLargeIcons</h4>
<pre><code class="lang-csharp">public bool UseLargeIcons { get; set; }
</code></pre>
<p>Gets or sets a value indicating whether to use large icons (32x32) instead of small icons (16x16).</p>
<ul>
<li><strong>Type</strong>: <code>bool</code></li>
<li><strong>Default</strong>: <code>false</code> (16x16 icons)</li>
<li><strong>Category</strong>: Appearance</li>
<li><strong>Description</strong>: Indicates whether to use large icons (32x32) instead of small icons (16x16).</li>
</ul>
<p><strong>Behavior:</strong></p>
<ul>
<li>When <code>true</code>, ImageList size is set to 32x32 pixels</li>
<li>When <code>false</code>, ImageList size is set to 16x16 pixels</li>
<li>Changing this property clears the icon cache and reloads icons</li>
<li>Icons are re-extracted at the new size</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">fileSystemListView.FileSystemListViewValues.UseLargeIcons = true;
</code></pre>
<hr>
<h2 id="methods-reference">Methods Reference</h2>
<h3 id="public-methods">Public Methods</h3>
<h4 id="reload">Reload()</h4>
<pre><code class="lang-csharp">public void Reload()
</code></pre>
<p>Reloads the list view from the current path.</p>
<p><strong>Behavior:</strong></p>
<ul>
<li>Clears all items, icon cache, and ImageList images</li>
<li>Adds default folder icon</li>
<li>Loads directory contents if <code>CurrentPath</code> is valid</li>
<li>Auto-resizes columns in Details view</li>
<li>Raises <code>FileSystemError</code> event on exceptions</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">// Refresh the current directory
fileSystemListView.Reload();
</code></pre>
<p><strong>When to Use:</strong></p>
<ul>
<li>After changing filter or visibility settings programmatically</li>
<li>To refresh the display after external file system changes</li>
<li>After modifying <code>FileSystemListViewValues</code> properties directly</li>
</ul>
<h4 id="navigatetostring-path">NavigateTo(string path)</h4>
<pre><code class="lang-csharp">public void NavigateTo(string path)
</code></pre>
<p>Navigates to the specified path in the list view.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>path</code> (string): The directory path to navigate to.</li>
</ul>
<p><strong>Behavior:</strong></p>
<ul>
<li>Validates that the path exists and is a directory</li>
<li>Sets <code>CurrentPath</code> property</li>
<li>Calls <code>Reload()</code> to refresh display</li>
<li>Raises <code>PathChanged</code> event on success</li>
<li>Raises <code>FileSystemError</code> event if path doesn't exist</li>
<li>Returns early if path is null or empty</li>
</ul>
<p><strong>Exceptions:</strong></p>
<ul>
<li>Raises <code>FileSystemError</code> event (does not throw) if directory not found</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">try
{
    fileSystemListView.NavigateTo(@&quot;C:\Users\Public\Documents&quot;);
}
catch // NavigateTo doesn't throw, but handle FileSystemError event
{
    // Handle via FileSystemError event
}
</code></pre>
<h4 id="adddefaulticon">AddDefaultIcon()</h4>
<pre><code class="lang-csharp">public void AddDefaultIcon()
</code></pre>
<p>Adds a default folder icon to the image list.</p>
<p><strong>Behavior:</strong></p>
<ul>
<li>Attempts to get stock folder icon via <code>StockIconHelper</code></li>
<li>Falls back to a simple gray bitmap if icon retrieval fails</li>
<li>Creates bitmap at current ImageList size (16x16 or 32x32)</li>
<li>Adds icon at index 0 (used as fallback)</li>
</ul>
<p><strong>When Called:</strong></p>
<ul>
<li>Automatically called during construction</li>
<li>Called when <code>UseLargeIcons</code> changes</li>
<li>Called during <code>Reload()</code> to reset icon list</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">// Manually add default icon (usually not needed)
fileSystemListView.AddDefaultIcon();
</code></pre>
<h4 id="autoresizeallcolumns">AutoResizeAllColumns()</h4>
<pre><code class="lang-csharp">public void AutoResizeAllColumns()
</code></pre>
<p>Auto-resizes all columns to fit their content.</p>
<p><strong>Behavior:</strong></p>
<ul>
<li>Only works in Details view</li>
<li>Uses <code>ColumnHeaderAutoResizeStyle.ColumnContent</code></li>
<li>Resizes all columns to fit the widest item content</li>
<li>No effect if not in Details view or no columns exist</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">fileSystemListView.AutoResizeAllColumns();
</code></pre>
<h4 id="autoresizecolumnheaders">AutoResizeColumnHeaders()</h4>
<pre><code class="lang-csharp">public void AutoResizeColumnHeaders()
</code></pre>
<p>Auto-resizes all columns to fit the header text.</p>
<p><strong>Behavior:</strong></p>
<ul>
<li>Only works in Details view</li>
<li>Uses <code>ColumnHeaderAutoResizeStyle.HeaderSize</code></li>
<li>Resizes all columns to fit header text width</li>
<li>Useful when content is empty</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">fileSystemListView.AutoResizeColumnHeaders();
</code></pre>
<hr>
<h3 id="protected-methods">Protected Methods</h3>
<h4 id="onpathchangedeventargs-e">OnPathChanged(EventArgs e)</h4>
<pre><code class="lang-csharp">protected virtual void OnPathChanged(EventArgs e)
</code></pre>
<p>Raises the <code>PathChanged</code> event.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>e</code>: An <code>EventArgs</code> containing the event data.</li>
</ul>
<p><strong>Usage:</strong>
Override to add custom behavior when path changes.</p>
<h4 id="onfilesystemerrorfilesystemerroreventargs-e">OnFileSystemError(FileSystemErrorEventArgs e)</h4>
<pre><code class="lang-csharp">protected virtual void OnFileSystemError(FileSystemErrorEventArgs e)
</code></pre>
<p>Raises the <code>FileSystemError</code> event.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>e</code>: A <code>FileSystemErrorEventArgs</code> containing the event data.</li>
</ul>
<p><strong>Usage:</strong>
Override to add custom error handling or logging.</p>
<hr>
<h3 id="private-methods">Private Methods</h3>
<h4 id="setupcolumns">SetupColumns()</h4>
<p>Sets up default columns for Details view:</p>
<ul>
<li><strong>Name</strong>: 250px width, left-aligned</li>
<li><strong>Type</strong>: 100px width, left-aligned</li>
<li><strong>Size</strong>: 100px width, right-aligned</li>
<li><strong>Date Modified</strong>: 150px width, left-aligned</li>
</ul>
<p>Column headers use localized strings from <code>KryptonManager.Strings.FileSystemListViewStrings</code>.</p>
<h4 id="loaddirectorystring-directorypath">LoadDirectory(string directoryPath)</h4>
<p>Loads directory contents:</p>
<ol>
<li>Adds parent directory item (&quot;..&quot;)</li>
<li>Adds subdirectories (filtered by hidden/system settings)</li>
<li>Adds files (if <code>ShowFiles</code> is true, filtered by <code>FileFilter</code> and hidden/system settings)</li>
<li>Handles <code>UnauthorizedAccessException</code> for individual items</li>
<li>Raises <code>FileSystemError</code> for directory-level errors</li>
</ol>
<h4 id="createdirectoryitemstring-name-string-fullpath">CreateDirectoryItem(string name, string fullPath)</h4>
<p>Creates a <code>ListViewItem</code> for a directory:</p>
<ul>
<li>Sets <code>Tag</code> to full path</li>
<li>Sets icon index via <code>GetIconIndex()</code></li>
<li>Adds sub-items: Type (&quot;File folder&quot;), Size (empty), Date Modified</li>
</ul>
<h4 id="createfileitemfileinfo-fileinfo">CreateFileItem(FileInfo fileInfo)</h4>
<p>Creates a <code>ListViewItem</code> for a file:</p>
<ul>
<li>Sets <code>Tag</code> to full path</li>
<li>Sets icon index via <code>GetIconIndex()</code></li>
<li>Adds sub-items: Type (from <code>GetFileTypeDescription()</code>), Size (from <code>FormatFileSize()</code>), Date Modified</li>
</ul>
<h4 id="geticonindexstring-path-bool-isdirectory">GetIconIndex(string path, bool isDirectory)</h4>
<p>Gets or creates icon index for a path:</p>
<ol>
<li>Creates cache key (extension for files, <code>&quot;__DIRECTORY__&quot;</code> for folders)</li>
<li>Checks cache</li>
<li>Extracts icon via <code>FileSystemIconHelper</code> with fallbacks</li>
<li>Converts icon to bitmap and adds to ImageList</li>
<li>Caches index</li>
<li>Returns index (0 if all fails)</li>
</ol>
<h4 id="getfiletypedescriptionstring-extension">GetFileTypeDescription(string extension)</h4>
<p>Returns human-readable file type description:</p>
<ul>
<li>Maps common extensions to descriptions (e.g., &quot;.txt&quot; → &quot;Text Document&quot;)</li>
<li>Returns &quot;File&quot; for empty extension</li>
<li>Returns &quot;{EXT} File&quot; for unknown extensions</li>
</ul>
<h4 id="formatfilesizelong-bytes">FormatFileSize(long bytes)</h4>
<p>Formats file size with appropriate units:</p>
<ul>
<li>Formats as B, KB, MB, GB, or TB</li>
<li>Uses 0 decimal places for bytes, 2 for others</li>
<li>Example: &quot;1.5 MB&quot;, &quot;1024 B&quot;</li>
</ul>
<h4 id="createbitmapforimagelistbitmap-sourcebitmap">CreateBitmapForImageList(Bitmap sourceBitmap)</h4>
<p>Creates a properly sized bitmap for ImageList:</p>
<ul>
<li>Creates bitmap at ImageList size</li>
<li>Uses high-quality bicubic interpolation</li>
<li>Returns null on failure</li>
</ul>
<hr>
<h2 id="events-reference">Events Reference</h2>
<h3 id="pathchanged">PathChanged</h3>
<pre><code class="lang-csharp">[Category(@&quot;Behavior&quot;)]
[Description(@&quot;Occurs when the current path changes.&quot;)]
public event EventHandler? PathChanged;
</code></pre>
<p>Occurs when the current path changes.</p>
<p><strong>Event Data:</strong> <code>EventArgs</code> (no additional data)</p>
<p><strong>Raised When:</strong></p>
<ul>
<li><code>NavigateTo()</code> successfully changes the path</li>
<li><code>CurrentPath</code> property is set and path is valid</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">fileSystemListView.PathChanged += (sender, e) =&gt;
{
    Console.WriteLine($&quot;Path changed to: {fileSystemListView.FileSystemListViewValues.CurrentPath}&quot;);
};
</code></pre>
<h3 id="filesystemerror">FileSystemError</h3>
<pre><code class="lang-csharp">[Category(@&quot;Behavior&quot;)]
[Description(@&quot;Occurs when an error occurs while loading the file system.&quot;)]
public event EventHandler&lt;FileSystemErrorEventArgs&gt;? FileSystemError;
</code></pre>
<p>Occurs when an error occurs while loading the file system.</p>
<p><strong>Event Data:</strong> <code>FileSystemErrorEventArgs</code></p>
<ul>
<li><code>Path</code> (string): The path where the error occurred</li>
<li><code>Exception</code> (Exception): The exception that occurred</li>
</ul>
<p><strong>Raised When:</strong></p>
<ul>
<li>Directory not found during <code>NavigateTo()</code></li>
<li>Access denied when reading directory contents</li>
<li>General exceptions during directory loading</li>
<li>Icon extraction failures (swallowed, not raised)</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">fileSystemListView.FileSystemError += (sender, e) =&gt;
{
    MessageBox.Show(
        $&quot;Error accessing {e.Path}:\n{e.Exception.Message}&quot;,
        &quot;File System Error&quot;,
        MessageBoxButtons.OK,
        MessageBoxIcon.Warning
    );
};
</code></pre>
<p><strong>Common Exception Types:</strong></p>
<ul>
<li><code>DirectoryNotFoundException</code>: Path doesn't exist</li>
<li><code>UnauthorizedAccessException</code>: Insufficient permissions</li>
<li><code>IOException</code>: General I/O errors</li>
</ul>
<hr>
<h2 id="related-classes">Related Classes</h2>
<h3 id="filesystemlistviewvalues-1">FileSystemListViewValues</h3>
<p>Groups file system-specific properties for PropertyGrid display.</p>
<p><strong>Location:</strong> <code>Krypton.Utilities.FileSystemListViewValues</code></p>
<p><strong>Properties:</strong></p>
<ul>
<li><code>CurrentPath</code> (string)</li>
<li><code>ShowFiles</code> (bool)</li>
<li><code>ShowHiddenFiles</code> (bool)</li>
<li><code>ShowSystemFiles</code> (bool)</li>
<li><code>FileFilter</code> (string)</li>
<li><code>UseLargeIcons</code> (bool)</li>
</ul>
<p><strong>Features:</strong></p>
<ul>
<li>Expandable object converter for PropertyGrid</li>
<li>Automatic <code>Reload()</code> on property changes</li>
<li>Inherits from <code>Storage</code> base class</li>
</ul>
<h3 id="filesystemerroreventargs">FileSystemErrorEventArgs</h3>
<p>Provides data for the <code>FileSystemError</code> event.</p>
<p><strong>Location:</strong> <code>Krypton.Toolkit.FileSystemErrorEventArgs</code></p>
<p><strong>Properties:</strong></p>
<ul>
<li><code>Path</code> (string, read-only): The path where the error occurred</li>
<li><code>Exception</code> (Exception, read-only): The exception that occurred</li>
</ul>
<p><strong>Constructor:</strong></p>
<pre><code class="lang-csharp">public FileSystemErrorEventArgs(string path, Exception exception)
</code></pre>
<h3 id="filesystemiconhelper">FileSystemIconHelper</h3>
<p>Helper class for extracting file and folder icons from Windows Shell.</p>
<p><strong>Location:</strong> <code>Krypton.Toolkit.FileSystemIconHelper</code> (internal)</p>
<p><strong>Methods:</strong></p>
<ul>
<li><code>GetFileSystemIcon(string path, bool largeIcon)</code>: Gets icon for file/folder</li>
<li><code>GetFolderIcon(bool largeIcon)</code>: Gets generic folder icon</li>
<li><code>GetFileIcon(string extension, bool largeIcon)</code>: Gets icon for file extension</li>
</ul>
<p><strong>Implementation:</strong></p>
<ul>
<li>Uses Windows Shell API (<code>SHGetFileInfo</code>)</li>
<li>Returns disposable <code>Icon</code> objects</li>
<li>Returns <code>null</code> on failure</li>
</ul>
<h3 id="stockiconhelper">StockIconHelper</h3>
<p>Provides fallback stock icons when file-specific icons cannot be retrieved.</p>
<p><strong>Location:</strong> <code>Krypton.Toolkit.StockIconHelper</code></p>
<p><strong>Methods:</strong></p>
<ul>
<li><code>GetStockIcon(StockIconId stockIconId)</code>: Gets a stock Windows icon</li>
</ul>
<p><strong>Common Stock Icons:</strong></p>
<ul>
<li><code>Folder</code>: Generic folder icon</li>
<li><code>DocumentNotAssociated</code>: Generic document icon</li>
<li><code>Application</code>: Application icon</li>
</ul>
<h3 id="kryptonfilesystemlistviewstrings">KryptonFileSystemListViewStrings</h3>
<p>Localizable string resources for column headers and messages.</p>
<p><strong>Location:</strong> <code>Krypton.Toolkit.KryptonFileSystemListViewStrings</code></p>
<p><strong>Properties:</strong></p>
<ul>
<li><code>ColumnNameName</code>: &quot;Name&quot; column header</li>
<li><code>ColumnTypeName</code>: &quot;Type&quot; column header</li>
<li><code>ColumnSizeName</code>: &quot;Size&quot; column header</li>
<li><code>ColumnDateModifiedName</code>: &quot;Date Modified&quot; column header</li>
<li><code>DirectoryNotFoundMessage</code>: Error message for missing directories</li>
<li><code>UseOSStrings</code>: Toggle to use OS-defined strings from shell32.dll</li>
</ul>
<p><strong>Access:</strong></p>
<pre><code class="lang-csharp">KryptonManager.Strings.FileSystemListViewStrings.ColumnNameName
</code></pre>
<hr>
<h2 id="icon-management">Icon Management</h2>
<h3 id="icon-extraction-process">Icon Extraction Process</h3>
<ol>
<li><strong>Cache Check</strong>: First checks <code>_iconCache</code> dictionary</li>
<li><strong>Icon Extraction</strong>:
<ul>
<li><strong>Directories</strong>: Tries <code>FileSystemIconHelper.GetFileSystemIcon()</code> → <code>GetFolderIcon()</code> → <code>StockIconHelper.GetStockIcon(Folder)</code></li>
<li><strong>Files</strong>: Tries <code>GetFileSystemIcon()</code> → <code>GetFileIcon(extension)</code> → <code>StockIconHelper.GetStockIcon(DocumentNotAssociated)</code></li>
</ul>
</li>
<li><strong>Bitmap Conversion</strong>: Converts <code>Icon</code> to <code>Bitmap</code> at ImageList size</li>
<li><strong>ImageList Addition</strong>: Adds bitmap to ImageList, forces handle creation</li>
<li><strong>Caching</strong>: Stores index in cache dictionary</li>
</ol>
<h3 id="icon-cache">Icon Cache</h3>
<p><strong>Cache Key Format:</strong></p>
<ul>
<li>Directories: <code>&quot;__DIRECTORY__&quot;</code></li>
<li>Files: File extension (lowercase), e.g., <code>&quot;.txt&quot;</code></li>
<li>Files without extension: <code>&quot;__FILE__&quot;</code></li>
</ul>
<p><strong>Cache Benefits:</strong></p>
<ul>
<li>Avoids re-extracting icons for same file types</li>
<li>Improves performance when displaying many files</li>
<li>Reduces Windows Shell API calls</li>
</ul>
<p><strong>Cache Management:</strong></p>
<ul>
<li>Cleared on <code>Reload()</code></li>
<li>Cleared when <code>UseLargeIcons</code> changes</li>
<li>Dictionary uses case-insensitive string comparison</li>
</ul>
<h3 id="icon-sizes">Icon Sizes</h3>
<ul>
<li><strong>Small Icons</strong>: 16x16 pixels (default)</li>
<li><strong>Large Icons</strong>: 32x32 pixels (when <code>UseLargeIcons = true</code>)</li>
</ul>
<p><strong>Changing Icon Size:</strong>
Setting <code>UseLargeIcons</code> automatically:</p>
<ol>
<li>Updates ImageList size</li>
<li>Clears icon cache</li>
<li>Clears ImageList images</li>
<li>Adds new default icon</li>
<li>Reloads directory with new icon size</li>
</ol>
<h3 id="icon-fallback-strategy">Icon Fallback Strategy</h3>
<p>The control implements a multi-tier fallback system:</p>
<ol>
<li><strong>Primary</strong>: Extract icon from actual file/folder path</li>
<li><strong>Secondary</strong>: Use generic folder icon or extension-based icon</li>
<li><strong>Tertiary</strong>: Use Windows stock icons</li>
<li><strong>Final</strong>: Use default icon (index 0) - gray bitmap</li>
</ol>
<p>This ensures icons are always displayed, even when extraction fails.</p>
<hr>
<h2 id="usage-examples">Usage Examples</h2>
<h3 id="basic-usage">Basic Usage</h3>
<pre><code class="lang-csharp">using Krypton.Utilities;

// Create control
KryptonFileSystemListView fileListView = new KryptonFileSystemListView();
fileListView.Dock = DockStyle.Fill;

// Navigate to a directory
fileListView.NavigateTo(@&quot;C:\Users&quot;);

// Add to form
this.Controls.Add(fileListView);
</code></pre>
<h3 id="configure-properties">Configure Properties</h3>
<pre><code class="lang-csharp">// Set initial path
fileListView.FileSystemListViewValues.CurrentPath = @&quot;C:\Program Files&quot;;

// Configure display options
fileListView.FileSystemListViewValues.ShowFiles = true;
fileListView.FileSystemListViewValues.ShowHiddenFiles = false;
fileListView.FileSystemListViewValues.ShowSystemFiles = false;

// Filter files
fileListView.FileSystemListViewValues.FileFilter = &quot;*.exe;*.dll&quot;;

// Use large icons
fileListView.FileSystemListViewValues.UseLargeIcons = true;
</code></pre>
<h3 id="handle-events">Handle Events</h3>
<pre><code class="lang-csharp">// Path changed event
fileListView.PathChanged += (sender, e) =&gt;
{
    statusLabel.Text = $&quot;Current: {fileListView.FileSystemListViewValues.CurrentPath}&quot;;
};

// File system error event
fileListView.FileSystemError += (sender, e) =&gt;
{
    if (e.Exception is UnauthorizedAccessException)
    {
        MessageBox.Show($&quot;Access denied: {e.Path}&quot;, &quot;Error&quot;, MessageBoxButtons.OK, MessageBoxIcon.Warning);
    }
    else if (e.Exception is DirectoryNotFoundException)
    {
        MessageBox.Show($&quot;Directory not found: {e.Path}&quot;, &quot;Error&quot;, MessageBoxButtons.OK, MessageBoxIcon.Error);
    }
    else
    {
        MessageBox.Show($&quot;Error: {e.Exception.Message}&quot;, &quot;Error&quot;, MessageBoxButtons.OK, MessageBoxIcon.Error);
    }
};
</code></pre>
<h3 id="get-selected-items">Get Selected Items</h3>
<pre><code class="lang-csharp">// Handle selection change
fileListView.SelectedIndexChanged += (sender, e) =&gt;
{
    if (fileListView.SelectedItems.Count &gt; 0)
    {
        string? selectedPath = fileListView.SelectedItems[0].Tag as string;
        if (!string.IsNullOrEmpty(selectedPath))
        {
            if (Directory.Exists(selectedPath))
            {
                Console.WriteLine($&quot;Selected folder: {selectedPath}&quot;);
            }
            else if (File.Exists(selectedPath))
            {
                FileInfo fileInfo = new FileInfo(selectedPath);
                Console.WriteLine($&quot;Selected file: {selectedPath} ({fileInfo.Length} bytes)&quot;);
            }
        }
    }
};
</code></pre>
<h3 id="custom-column-resizing">Custom Column Resizing</h3>
<pre><code class="lang-csharp">// Auto-resize columns after loading
fileListView.PathChanged += (sender, e) =&gt;
{
    // Wait for items to load, then resize
    fileListView.BeginInvoke(new Action(() =&gt;
    {
        fileListView.AutoResizeAllColumns();
    }));
};
</code></pre>
<h3 id="filter-files-dynamically">Filter Files Dynamically</h3>
<pre><code class="lang-csharp">// Filter to show only images
fileListView.FileSystemListViewValues.FileFilter = &quot;*.jpg;*.jpeg;*.png;*.gif;*.bmp&quot;;

// Filter to show only documents
fileListView.FileSystemListViewValues.FileFilter = &quot;*.txt;*.doc;*.docx;*.pdf&quot;;

// Show all files
fileListView.FileSystemListViewValues.FileFilter = &quot;*.*&quot;;
</code></pre>
<h3 id="browse-only-mode-directories-only">Browse-Only Mode (Directories Only)</h3>
<pre><code class="lang-csharp">// Hide files, show only directories
fileListView.FileSystemListViewValues.ShowFiles = false;
</code></pre>
<h3 id="advanced-custom-file-type-descriptions">Advanced: Custom File Type Descriptions</h3>
<p>The control includes built-in file type descriptions, but you can extend <code>GetFileTypeDescription()</code> for custom mappings:</p>
<pre><code class="lang-csharp">// The method maps extensions like:
// &quot;.txt&quot; → &quot;Text Document&quot;
// &quot;.doc&quot; → &quot;Microsoft Word Document&quot;
// &quot;.pdf&quot; → &quot;PDF Document&quot;
// etc.
</code></pre>
<h3 id="integration-with-file-dialogs">Integration with File Dialogs</h3>
<pre><code class="lang-csharp">// Use with OpenFileDialog
OpenFileDialog openDialog = new OpenFileDialog();
if (openDialog.ShowDialog() == DialogResult.OK)
{
    string selectedFile = openDialog.FileName;
    string directory = Path.GetDirectoryName(selectedFile);
    fileListView.NavigateTo(directory);
    
    // Optionally select the file (requires custom implementation)
}
</code></pre>
<hr>
<h2 id="best-practices">Best Practices</h2>
<h3 id="1-error-handling">1. Error Handling</h3>
<p>Always handle the <code>FileSystemError</code> event:</p>
<pre><code class="lang-csharp">fileListView.FileSystemError += (sender, e) =&gt;
{
    // Log error
    Logger.LogError($&quot;File system error at {e.Path}: {e.Exception}&quot;);
    
    // Show user-friendly message
    if (e.Exception is UnauthorizedAccessException)
    {
        // Handle access denied gracefully
    }
};
</code></pre>
<h3 id="2-performance-considerations">2. Performance Considerations</h3>
<ul>
<li><strong>Icon Caching</strong>: The control caches icons automatically. Avoid clearing the cache unnecessarily.</li>
<li><strong>Large Directories</strong>: For directories with thousands of files, consider:
<ul>
<li>Using file filters to limit displayed items</li>
<li>Implementing virtual mode (not currently supported)</li>
<li>Showing directories only (<code>ShowFiles = false</code>)</li>
</ul>
</li>
</ul>
<h3 id="3-path-validation">3. Path Validation</h3>
<p>Validate paths before navigation:</p>
<pre><code class="lang-csharp">string path = GetPathFromUser();
if (Directory.Exists(path))
{
    fileListView.NavigateTo(path);
}
else
{
    MessageBox.Show(&quot;Directory does not exist.&quot;);
}
</code></pre>
<h3 id="4-thread-safety">4. Thread Safety</h3>
<p>File system operations should be performed on the UI thread:</p>
<pre><code class="lang-csharp">// Correct: On UI thread
fileListView.NavigateTo(path);

// If loading from background thread:
this.Invoke(new Action(() =&gt; fileListView.NavigateTo(path)));
</code></pre>
<h3 id="5-resource-management">5. Resource Management</h3>
<p>The control manages icon resources internally. Icons are:</p>
<ul>
<li>Extracted and cloned (safe to dispose)</li>
<li>Added to ImageList (ImageList takes ownership)</li>
<li>Cached for reuse</li>
</ul>
<p>No manual disposal required for normal usage.</p>
<h3 id="6-property-changes">6. Property Changes</h3>
<p>Properties in <code>FileSystemListViewValues</code> automatically trigger <code>Reload()</code>. Avoid calling <code>Reload()</code> manually after property changes:</p>
<pre><code class="lang-csharp">// Correct: Reload happens automatically
fileListView.FileSystemListViewValues.CurrentPath = @&quot;C:\Users&quot;;

// Incorrect: Unnecessary reload
fileListView.FileSystemListViewValues.CurrentPath = @&quot;C:\Users&quot;;
fileListView.Reload(); // Not needed
</code></pre>
<h3 id="7-view-mode-considerations">7. View Mode Considerations</h3>
<ul>
<li><strong>Details View</strong>: Full functionality with columns</li>
<li><strong>Other Views</strong>: Icons display, but columns are not used</li>
<li>Switch to Details view before accessing column properties</li>
</ul>
<h3 id="8-filter-syntax">8. Filter Syntax</h3>
<p>Use proper filter syntax:</p>
<ul>
<li>Single pattern: <code>&quot;*.txt&quot;</code></li>
<li>Multiple patterns: <code>&quot;*.txt;*.doc&quot;</code> (semicolon-separated)</li>
<li>All files: <code>&quot;*.*&quot;</code></li>
</ul>
<hr>
<h2 id="known-limitations">Known Limitations</h2>
<h3 id="1-virtual-mode-not-supported">1. Virtual Mode Not Supported</h3>
<p>The control does not support virtual mode (<code>VirtualMode = true</code>). All items are loaded into memory. For very large directories (10,000+ items), performance may degrade.</p>
<h3 id="2-no-built-in-selection-path-properties">2. No Built-in Selection Path Properties</h3>
<p>While <code>ListViewItem.Tag</code> contains the full path, there are no convenience properties like <code>SelectedPath</code> or <code>SelectedPaths</code> (these are commented out in the source). Access selected paths via:</p>
<pre><code class="lang-csharp">if (fileListView.SelectedItems.Count &gt; 0)
{
    string? path = fileListView.SelectedItems[0].Tag as string;
}
</code></pre>
<h3 id="3-icon-extraction-failures-are-silent">3. Icon Extraction Failures Are Silent</h3>
<p>Icon extraction failures are caught and result in fallback to default icon. The <code>FileSystemError</code> event is not raised for icon failures.</p>
<h3 id="4-file-filter-limitations">4. File Filter Limitations</h3>
<p>The filter uses <code>Directory.GetFiles()</code> which supports simple wildcard patterns. Complex regex patterns are not supported.</p>
<h3 id="5-no-custom-sorting">5. No Custom Sorting</h3>
<p>Sorting is handled by the base <code>ListView</code> control. Custom sort comparers can be implemented via <code>ListViewItemSorter</code> property.</p>
<h3 id="6-column-customization">6. Column Customization</h3>
<p>Default columns are hardcoded. To add custom columns:</p>
<ol>
<li>Clear existing columns</li>
<li>Add custom columns</li>
<li>Modify <code>CreateDirectoryItem()</code> and <code>CreateFileItem()</code> to populate custom columns</li>
</ol>
<h3 id="7-no-drag-and-drop-support">7. No Drag-and-Drop Support</h3>
<p>Drag-and-drop is not implemented. Can be added via standard WinForms drag-and-drop events.</p>
<h3 id="8-rtl-support">8. RTL Support</h3>
<p>Right-to-left (RTL) layout support depends on base <code>ListView</code> RTL capabilities. Not explicitly tested.</p>
<h3 id="9-icon-size-change-requires-reload">9. Icon Size Change Requires Reload</h3>
<p>Changing <code>UseLargeIcons</code> clears the cache and reloads. This may cause a brief delay for large directories.</p>
<h3 id="10-parent-directory-navigation">10. Parent Directory Navigation</h3>
<p>The &quot;..&quot; item navigates to the parent directory, but there's no built-in &quot;up&quot; button or breadcrumb navigation.</p>
<hr>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="issue-icons-not-displaying">Issue: Icons Not Displaying</h3>
<p><strong>Symptoms:</strong> Icons appear as default/gray icons or not at all.</p>
<p><strong>Possible Causes:</strong></p>
<ol>
<li>Icon extraction failing silently</li>
<li>ImageList handle not created</li>
<li>Icon size mismatch</li>
</ol>
<p><strong>Solutions:</strong></p>
<ul>
<li>Check Windows Shell API availability</li>
<li>Verify <code>UseLargeIcons</code> matches desired size</li>
<li>Check <code>FileSystemError</code> event for underlying issues</li>
<li>Ensure proper permissions for icon extraction</li>
</ul>
<h3 id="issue-performance-degradation-with-many-files">Issue: Performance Degradation with Many Files</h3>
<p><strong>Symptoms:</strong> Slow loading or UI freezing with large directories.</p>
<p><strong>Solutions:</strong></p>
<ul>
<li>Use file filters to limit displayed items</li>
<li>Set <code>ShowFiles = false</code> to show directories only</li>
<li>Consider implementing virtual mode (requires custom implementation)</li>
<li>Use background threading for navigation (invoke on UI thread)</li>
</ul>
<h3 id="issue-access-denied-errors">Issue: Access Denied Errors</h3>
<p><strong>Symptoms:</strong> <code>FileSystemError</code> event raised with <code>UnauthorizedAccessException</code>.</p>
<p><strong>Solutions:</strong></p>
<ul>
<li>Handle <code>FileSystemError</code> event gracefully</li>
<li>Check user permissions</li>
<li>Use <code>ShowHiddenFiles</code> and <code>ShowSystemFiles</code> appropriately</li>
<li>Consider running with elevated permissions if needed</li>
</ul>
<h3 id="issue-columns-not-displaying">Issue: Columns Not Displaying</h3>
<p><strong>Symptoms:</strong> Columns don't appear in Details view.</p>
<p><strong>Solutions:</strong></p>
<ul>
<li>Ensure <code>View</code> property is set to <code>View.Details</code></li>
<li>Check that <code>SetupColumns()</code> was called (automatic in Details view)</li>
<li>Verify columns weren't cleared manually</li>
</ul>
<h3 id="issue-file-filter-not-working">Issue: File Filter Not Working</h3>
<p><strong>Symptoms:</strong> All files displayed despite filter setting.</p>
<p><strong>Solutions:</strong></p>
<ul>
<li>Verify filter syntax (e.g., <code>&quot;*.txt&quot;</code> not <code>&quot;.txt&quot;</code>)</li>
<li>Ensure <code>ShowFiles</code> is <code>true</code></li>
<li>Check that <code>Reload()</code> is called after filter change (automatic)</li>
</ul>
<h3 id="issue-path-navigation-fails">Issue: Path Navigation Fails</h3>
<p><strong>Symptoms:</strong> <code>NavigateTo()</code> doesn't change directory.</p>
<p><strong>Solutions:</strong></p>
<ul>
<li>Verify path exists: <code>Directory.Exists(path)</code></li>
<li>Check path format (use <code>Path.GetFullPath()</code> if needed)</li>
<li>Handle <code>FileSystemError</code> event for details</li>
<li>Ensure path is not null or empty</li>
</ul>
<h3 id="issue-icons-wrong-size">Issue: Icons Wrong Size</h3>
<p><strong>Symptoms:</strong> Icons appear too large or too small.</p>
<p><strong>Solutions:</strong></p>
<ul>
<li>Set <code>UseLargeIcons = true</code> for 32x32 icons</li>
<li>Set <code>UseLargeIcons = false</code> for 16x16 icons</li>
<li>Changing this property automatically reloads icons</li>
</ul>
<h3 id="issue-selected-item-path-not-available">Issue: Selected Item Path Not Available</h3>
<p><strong>Symptoms:</strong> Cannot get selected file/folder path.</p>
<p><strong>Solutions:</strong></p>
<ul>
<li>Access via <code>SelectedItems[0].Tag as string</code></li>
<li>Check for null before using</li>
<li>Verify item is selected (<code>SelectedItems.Count &gt; 0</code>)</li>
</ul>
<hr>
<h2 id="additional-resources">Additional Resources</h2>
<h3 id="related-controls">Related Controls</h3>
<ul>
<li><strong>KryptonFileSystemTreeView</strong>: Tree view version of file system browser</li>
<li><strong>KryptonListView</strong>: Base ListView control with Krypton styling</li>
</ul>
<h3 id="windows-api-dependencies">Windows API Dependencies</h3>
<ul>
<li><strong>Shell32.dll</strong>: Icon extraction (<code>SHGetFileInfo</code>)</li>
<li><strong>User32.dll</strong>: Icon destruction (<code>DestroyIcon</code>)</li>
</ul>
<h3 id="string-resources">String Resources</h3>
<p>Access localized strings via:</p>
<pre><code class="lang-csharp">KryptonManager.Strings.FileSystemListViewStrings
</code></pre>

</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      <span>Krypton Component Suite 2024
BSD 3-Clause License
© Component Factory Pty Ltd, 2006 - 2016, All rights reserved.</span> <span>Modifications by Peter Wagner (aka Wagnerp), Simon Coghlan (aka Smurf-IV), Giduac, Tobitege, Lesarndro, KamaniAR & Ahmed Abdelhameed et al. 2017 - 2025. All rights reserved. <a href="https://github.com/Krypton-Suite">https://github.com/Krypton-Suite</a></span>
      
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../../../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
