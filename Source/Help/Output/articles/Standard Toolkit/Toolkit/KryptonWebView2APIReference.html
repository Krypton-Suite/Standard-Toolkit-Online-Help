<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>KryptonWebView2 API Reference | Krypton Standard Toolkit Documentation </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="KryptonWebView2 API Reference | Krypton Standard Toolkit Documentation ">
    
    
      <link rel="shortcut icon" href="../../../Krypton.ico">
      <link rel="stylesheet" href="../../../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../../../styles/docfx.css">
      <link rel="stylesheet" href="../../../styles/main.css">
      <meta property="docfx:navrel" content="../../../toc.html">
      <meta property="docfx:tocrel" content="../../toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../Logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="kryptonwebview2-api-reference">KryptonWebView2 API Reference</h1>

<h2 id="namespace">Namespace</h2>
<p><code>Krypton.Toolkit</code></p>
<h2 id="assembly">Assembly</h2>
<p><code>Krypton.Toolkit.dll</code></p>
<h2 id="inheritance-hierarchy">Inheritance Hierarchy</h2>
<pre><code>System.Object
└── System.MarshalByRefObject
    └── System.ComponentModel.Component
        └── System.Windows.Forms.Control
            └── Microsoft.Web.WebView2.WinForms.WebView2
                └── Krypton.Toolkit.KryptonWebView2
</code></pre>
<h2 id="conditional-compilation">Conditional Compilation</h2>
<p>This control is only available when <code>WEBVIEW2_AVAILABLE</code> is defined.</p>
<hr>
<h2 id="class-kryptonwebview2">Class: KryptonWebView2</h2>
<h3 id="summary">Summary</h3>
<p>Provide a WebView2 control with Krypton styling applied. A modern web browser control that integrates Microsoft's WebView2 engine with the Krypton Toolkit's theming system.</p>
<h3 id="attributes">Attributes</h3>
<ul>
<li><code>[ToolboxItem(true)]</code> - Available in Visual Studio toolbox</li>
<li><code>[ToolboxBitmap(typeof(KryptonWebView2), &quot;ToolboxBitmaps.WebView2.bmp&quot;)]</code> - Custom toolbox icon</li>
<li><code>[Designer(typeof(KryptonWebView2Designer))]</code> - Custom designer support</li>
<li><code>[DesignerCategory(&quot;code&quot;)]</code> - Code-based designer category</li>
<li><code>[Description(&quot;Enables the user to browse web pages using the modern WebView2 engine with Krypton theming support.&quot;)]</code> - Control description</li>
<li><code>[CLSCompliant(false)]</code> - Not CLS compliant</li>
</ul>
<hr>
<h2 id="constructors">Constructors</h2>
<h3 id="kryptonwebview2">KryptonWebView2()</h3>
<p><strong>Summary:</strong> Initialize a new instance of the KryptonWebView2 class.</p>
<p><strong>Remarks:</strong></p>
<ul>
<li>Enables double buffering for smooth rendering</li>
<li>Sets up resize redraw for proper repainting</li>
<li>Initializes the Krypton palette system</li>
<li>Registers for global palette change notifications</li>
<li>WebView2 engine is not initialized until <code>EnsureCoreWebView2Async()</code> is called</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">var webView = new KryptonWebView2();
webView.Size = new Size(800, 600);
await webView.EnsureCoreWebView2Async();
</code></pre>
<hr>
<h2 id="properties">Properties</h2>
<h3 id="kryptoncontextmenu">KryptonContextMenu</h3>
<p><strong>Type:</strong> <code>KryptonContextMenu?</code></p>
<p><strong>Access:</strong> Public get/set</p>
<p><strong>Attributes:</strong></p>
<ul>
<li><code>[Category(&quot;Behavior&quot;)]</code></li>
<li><code>[Description(&quot;The shortcut menu to show when the user right-clicks the page.&quot;)]</code></li>
<li><code>[DefaultValue(null)]</code></li>
</ul>
<p><strong>Summary:</strong> Gets and sets the KryptonContextMenu to show when right-clicked.</p>
<p><strong>Value:</strong> A <code>KryptonContextMenu</code> instance that will be displayed when the user right-clicks on the web content, or <code>null</code> if no custom context menu should be shown.</p>
<p><strong>Behavior:</strong></p>
<ul>
<li>When set to a non-null value, overrides the default WebView2 context menu</li>
<li>Shows at mouse position for right-clicks</li>
<li>Centers on control for keyboard activation (Menu key)</li>
<li>Setting to <code>null</code> restores default WebView2 context menu behavior</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">var contextMenu = new KryptonContextMenu();
contextMenu.Items.Add(new KryptonContextMenuItem(&quot;Copy&quot;));
contextMenu.Items.Add(new KryptonContextMenuItem(&quot;Paste&quot;));
webView.KryptonContextMenu = contextMenu;
</code></pre>
<hr>
<h2 id="methods">Methods</h2>
<h3 id="createtoolstriprenderer">CreateToolStripRenderer()</h3>
<p><strong>Signature:</strong> <code>public ToolStripRenderer? CreateToolStripRenderer()</code></p>
<p><strong>Attributes:</strong></p>
<ul>
<li><code>[Browsable(false)]</code></li>
<li><code>[EditorBrowsable(EditorBrowsableState.Advanced)]</code></li>
</ul>
<p><strong>Summary:</strong> Create a tool strip renderer appropriate for the current renderer/palette pair.</p>
<p><strong>Returns:</strong> A <code>ToolStripRenderer</code> instance that provides Krypton-themed rendering for tool strips, or <code>null</code> if no renderer is available.</p>
<p><strong>Remarks:</strong></p>
<ul>
<li>Creates a renderer that matches the current Krypton theme and palette</li>
<li>Used internally by the control to ensure consistent theming</li>
<li>Can be used by advanced users who need custom tool strip rendering</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">var renderer = webView.CreateToolStripRenderer();
if (renderer != null)
{
    myToolStrip.Renderer = renderer;
}
</code></pre>
<h3 id="getresolvedpalette">GetResolvedPalette()</h3>
<p><strong>Signature:</strong> <code>public PaletteBase GetResolvedPalette()</code></p>
<p><strong>Attributes:</strong></p>
<ul>
<li><code>[Browsable(false)]</code></li>
<li><code>[EditorBrowsable(EditorBrowsableState.Never)]</code></li>
</ul>
<p><strong>Summary:</strong> Gets the resolved palette to actually use when drawing.</p>
<p><strong>Returns:</strong> A <code>PaletteBase</code> instance that represents the currently active palette for this control.</p>
<p><strong>Remarks:</strong></p>
<ul>
<li>Returns the palette currently being used for rendering this control</li>
<li>Determined by the control's palette mode and global palette settings</li>
<li>Primarily used internally by the Krypton framework for rendering operations</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">var palette = webView.GetResolvedPalette();
var primaryColor = palette.GetColorTable().Color1;
</code></pre>
<hr>
<h2 id="protected-methods">Protected Methods</h2>
<h3 id="disposebool-disposing">Dispose(bool disposing)</h3>
<p><strong>Signature:</strong> <code>protected override void Dispose(bool disposing)</code></p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>disposing</code> (bool): <code>true</code> if managed resources should be disposed; otherwise, <code>false</code>.</li>
</ul>
<p><strong>Summary:</strong> Clean up any resources being used.</p>
<p><strong>Remarks:</strong></p>
<ul>
<li>Unhooks from global palette change notifications</li>
<li>Disposes of the associated KryptonContextMenu if present</li>
<li>Calls the base class Dispose method to clean up WebView2 resources</li>
<li>WebView2 engine automatically cleans up native resources when disposed</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">protected override void Dispose(bool disposing)
{
    if (disposing)
    {
        // Custom cleanup code here
    }
    base.Dispose(disposing);
}
</code></pre>
<h3 id="wndprocref-message-m">WndProc(ref Message m)</h3>
<p><strong>Signature:</strong> <code>protected override void WndProc(ref Message m)</code></p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>m</code> (ref Message): A Windows-based message.</li>
</ul>
<p><strong>Summary:</strong> Process Windows-based messages.</p>
<p><strong>Remarks:</strong></p>
<ul>
<li>Intercepts context menu messages and provides custom KryptonContextMenu handling</li>
<li>Processes <code>WM_CONTEXTMENU</code> and <code>WM_PARENTNOTIFY</code> with <code>WM_RBUTTONDOWN</code> messages</li>
<li>When KryptonContextMenu is assigned:
<ul>
<li>Extracts mouse position from message parameters</li>
<li>Handles keyboard activation by centering menu on control</li>
<li>Adjusts position to match standard context menu behavior</li>
<li>Shows KryptonContextMenu if mouse is within client area</li>
<li>Consumes message to prevent default WebView2 context menu</li>
</ul>
</li>
<li>If no KryptonContextMenu is assigned, passes message to base class</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">protected override void WndProc(ref Message m)
{
    // Custom message handling before calling base
    base.WndProc(ref m);
}
</code></pre>
<h3 id="onglobalpalettechangedobject-sender-eventargs-e">OnGlobalPaletteChanged(object? sender, EventArgs e)</h3>
<p><strong>Signature:</strong> <code>protected virtual void OnGlobalPaletteChanged(object? sender, EventArgs e)</code></p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>sender</code> (object?): Source of the event.</li>
<li><code>e</code> (EventArgs): An EventArgs that contains the event data.</li>
</ul>
<p><strong>Summary:</strong> Occurs when the global palette has been changed.</p>
<p><strong>Remarks:</strong></p>
<ul>
<li>Only responds if using the global palette mode</li>
<li>Updates the control with the new global palette</li>
<li>Can be overridden to provide custom palette change handling</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">protected override void OnGlobalPaletteChanged(object? sender, EventArgs e)
{
    base.OnGlobalPaletteChanged(sender, e);
    // Custom palette change handling
    ApplyCustomTheme();
}
</code></pre>
<hr>
<h2 id="private-methods">Private Methods</h2>
<h3 id="setpalettepalettebase-palette">SetPalette(PaletteBase palette)</h3>
<p><strong>Signature:</strong> <code>private void SetPalette(PaletteBase palette)</code></p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>palette</code> (PaletteBase): The chosen palette.</li>
</ul>
<p><strong>Summary:</strong> Sets the palette being used.</p>
<p><strong>Remarks:</strong></p>
<ul>
<li>Unhooks from current palette events</li>
<li>Remembers the new palette</li>
<li>Gets the renderer associated with the palette</li>
<li>Hooks to new palette events</li>
</ul>
<h3 id="onbasechangedobject-sender-eventargs-e">OnBaseChanged(object? sender, EventArgs e)</h3>
<p><strong>Signature:</strong> <code>private void OnBaseChanged(object? sender, EventArgs e)</code></p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>sender</code> (object?): The sender.</li>
<li><code>e</code> (EventArgs): The EventArgs instance containing the event data.</li>
</ul>
<p><strong>Summary:</strong> Called when there is a change in base renderer or base palette.</p>
<p><strong>Remarks:</strong></p>
<ul>
<li>Changes in base renderer or base palette require fetching the latest renderer</li>
<li>Updates the internal renderer reference</li>
</ul>
<h3 id="onkryptoncontextmenudisposedobject-sender-eventargs-e">OnKryptonContextMenuDisposed(object? sender, EventArgs e)</h3>
<p><strong>Signature:</strong> <code>private void OnKryptonContextMenuDisposed(object? sender, EventArgs e)</code></p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>sender</code> (object?): The sender.</li>
<li><code>e</code> (EventArgs): The EventArgs instance containing the event data.</li>
</ul>
<p><strong>Summary:</strong> Handles disposal of the KryptonContextMenu.</p>
<p><strong>Remarks:</strong></p>
<ul>
<li>When the current krypton context menu is disposed, removes it to prevent exceptions</li>
<li>Prevents using a disposed context menu</li>
</ul>
<hr>
<h2 id="inherited-properties-from-webview2">Inherited Properties (from WebView2)</h2>
<h3 id="corewebview2">CoreWebView2</h3>
<p><strong>Type:</strong> <code>CoreWebView2?</code></p>
<p><strong>Summary:</strong> Gets the CoreWebView2 object for the WebView2 control.</p>
<p><strong>Remarks:</strong></p>
<ul>
<li>Returns <code>null</code> until <code>EnsureCoreWebView2Async()</code> is called</li>
<li>Provides access to WebView2's core functionality</li>
<li>Used for navigation, JavaScript execution, and event handling</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">await webView.EnsureCoreWebView2Async();
if (webView.CoreWebView2 != null)
{
    webView.CoreWebView2.Navigate(&quot;https://example.com&quot;);
}
</code></pre>
<h3 id="source">Source</h3>
<p><strong>Type:</strong> <code>Uri?</code></p>
<p><strong>Summary:</strong> Gets or sets the URI of the current top-level document.</p>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">webView.Source = new Uri(&quot;https://example.com&quot;);
</code></pre>
<h3 id="documenttitle">DocumentTitle</h3>
<p><strong>Type:</strong> <code>string</code></p>
<p><strong>Summary:</strong> Gets the title of the current top-level document.</p>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">string title = webView.DocumentTitle;
</code></pre>
<h3 id="cangoback">CanGoBack</h3>
<p><strong>Type:</strong> <code>bool</code></p>
<p><strong>Summary:</strong> Gets whether the WebView2 can navigate to a previous page in the navigation history.</p>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">if (webView.CanGoBack)
{
    webView.GoBack();
}
</code></pre>
<h3 id="cangoforward">CanGoForward</h3>
<p><strong>Type:</strong> <code>bool</code></p>
<p><strong>Summary:</strong> Gets whether the WebView2 can navigate to a next page in the navigation history.</p>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">if (webView.CanGoForward)
{
    webView.GoForward();
}
</code></pre>
<hr>
<h2 id="inherited-methods-from-webview2">Inherited Methods (from WebView2)</h2>
<h3 id="ensurecorewebview2async">EnsureCoreWebView2Async()</h3>
<p><strong>Signature:</strong> <code>public Task EnsureCoreWebView2Async()</code></p>
<p><strong>Summary:</strong> Ensures that the WebView2 runtime is installed and initializes the CoreWebView2 object.</p>
<p><strong>Returns:</strong> A Task that represents the asynchronous operation.</p>
<p><strong>Remarks:</strong></p>
<ul>
<li>Must be called before using CoreWebView2</li>
<li>Downloads WebView2 runtime if not installed</li>
<li>Initializes the WebView2 engine</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">await webView.EnsureCoreWebView2Async();
</code></pre>
<h3 id="navigatestring-uri">Navigate(string uri)</h3>
<p><strong>Signature:</strong> <code>public void Navigate(string uri)</code></p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>uri</code> (string): The URI to navigate to.</li>
</ul>
<p><strong>Summary:</strong> Navigates the WebView2 to the specified URI.</p>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">webView.Navigate(&quot;https://example.com&quot;);
</code></pre>
<h3 id="goback">GoBack()</h3>
<p><strong>Signature:</strong> <code>public void GoBack()</code></p>
<p><strong>Summary:</strong> Navigates the WebView2 to the previous page in the navigation history.</p>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">webView.GoBack();
</code></pre>
<h3 id="goforward">GoForward()</h3>
<p><strong>Signature:</strong> <code>public void GoForward()</code></p>
<p><strong>Summary:</strong> Navigates the WebView2 to the next page in the navigation history.</p>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">webView.GoForward();
</code></pre>
<h3 id="reload">Reload()</h3>
<p><strong>Signature:</strong> <code>public void Reload()</code></p>
<p><strong>Summary:</strong> Reloads the current page.</p>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">webView.Reload();
</code></pre>
<h3 id="stop">Stop()</h3>
<p><strong>Signature:</strong> <code>public void Stop()</code></p>
<p><strong>Summary:</strong> Stops all navigations and pending resource fetches on the current page.</p>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">webView.Stop();
</code></pre>
<hr>
<h2 id="events">Events</h2>
<h3 id="navigationstarting">NavigationStarting</h3>
<p><strong>Type:</strong> <code>EventHandler&lt;CoreWebView2NavigationStartingEventArgs&gt;</code></p>
<p><strong>Summary:</strong> Occurs when the WebView2 is about to navigate to a new page.</p>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">webView.CoreWebView2.NavigationStarting += (sender, e) =&gt;
{
    if (e.Uri.Contains(&quot;blocked-site.com&quot;))
    {
        e.Cancel = true;
    }
};
</code></pre>
<h3 id="navigationcompleted">NavigationCompleted</h3>
<p><strong>Type:</strong> <code>EventHandler&lt;CoreWebView2NavigationCompletedEventArgs&gt;</code></p>
<p><strong>Summary:</strong> Occurs when the WebView2 has finished navigating to a new page.</p>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">webView.CoreWebView2.NavigationCompleted += (sender, e) =&gt;
{
    if (e.IsSuccess)
    {
        Console.WriteLine($&quot;Loaded: {webView.DocumentTitle}&quot;);
    }
};
</code></pre>
<h3 id="documenttitlechanged">DocumentTitleChanged</h3>
<p><strong>Type:</strong> <code>EventHandler&lt;object&gt;</code></p>
<p><strong>Summary:</strong> Occurs when the document title changes.</p>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">webView.CoreWebView2.DocumentTitleChanged += (sender, e) =&gt;
{
    this.Text = webView.DocumentTitle;
};
</code></pre>
<h3 id="newwindowrequested">NewWindowRequested</h3>
<p><strong>Type:</strong> <code>EventHandler&lt;CoreWebView2NewWindowRequestedEventArgs&gt;</code></p>
<p><strong>Summary:</strong> Occurs when a new window is requested.</p>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">webView.CoreWebView2.NewWindowRequested += (sender, e) =&gt;
{
    // Open in same window instead of new window
    e.NewWindow = webView.CoreWebView2;
    e.Handled = true;
};
</code></pre>
<hr>
<h2 id="requirements">Requirements</h2>
<h3 id="system-requirements">System Requirements</h3>
<ul>
<li>Windows 10 version 1803 (build 17134) or later</li>
<li>WebView2 Runtime installed on target system</li>
<li>.NET Framework 4.7.2 or later, or .NET 8.0 or later</li>
</ul>
<h3 id="dependencies">Dependencies</h3>
<ul>
<li><code>Microsoft.Web.WebView2.WinForms</code> NuGet package</li>
<li><code>Microsoft.Web.WebView2.Core</code> (included with WinForms package)</li>
<li><code>WebView2Loader.dll</code> (included with WinForms package)</li>
</ul>
<h3 id="conditional-compilation-1">Conditional Compilation</h3>
<p>The control is only available when <code>WEBVIEW2_AVAILABLE</code> is defined. This ensures compatibility with systems that don't have WebView2 dependencies.</p>
<hr>
<h2 id="related-types">Related Types</h2>
<h3 id="kryptoncontextmenu-1">KryptonContextMenu</h3>
<p>Custom context menu system that integrates with Krypton theming.</p>
<h3 id="palettebase">PaletteBase</h3>
<p>Base class for Krypton palette system.</p>
<h3 id="irenderer">IRenderer</h3>
<p>Interface for Krypton rendering system.</p>
<h3 id="toolstriprenderer">ToolStripRenderer</h3>
<p>Base class for tool strip rendering.</p>
<hr>
<h2 id="see-also">See Also</h2>
<ul>
<li><a href="https://docs.microsoft.com/en-us/microsoft-edge/webview2/">Microsoft WebView2 Documentation</a></li>
<li><a href="https://github.com/Krypton-Suite/Standard-Toolkit">Krypton Toolkit Documentation</a></li>
<li><code>KryptonWebBrowser</code> - Legacy WebBrowser control with Krypton theming</li>
</ul>

</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      <span>Krypton Component Suite 2024
BSD 3-Clause License
© Component Factory Pty Ltd, 2006 - 2016, All rights reserved.</span> <span>Modifications by Peter Wagner (aka Wagnerp), Simon Coghlan (aka Smurf-IV), Giduac, Tobitege, Lesarndro, KamaniAR & Ahmed Abdelhameed et al. 2017 - 2025. All rights reserved. <a href="https://github.com/Krypton-Suite">https://github.com/Krypton-Suite</a></span>
      
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../../../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
