<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>KryptonForm API Reference | Krypton Standard Toolkit Documentation </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="KryptonForm API Reference | Krypton Standard Toolkit Documentation ">
    
    
      <link rel="shortcut icon" href="../../../../Krypton.ico">
      <link rel="stylesheet" href="../../../../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../../../../styles/docfx.css">
      <link rel="stylesheet" href="../../../../styles/main.css">
      <meta property="docfx:navrel" content="../../../../toc.html">
      <meta property="docfx:tocrel" content="../../../toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="svg" src="../../../../Logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="kryptonform-api-reference">KryptonForm API Reference</h1>

<h2 id="overview">Overview</h2>
<p><code>KryptonForm</code> is a form control that draws window chrome using a Krypton palette, providing a themed and customizable window appearance with full support for custom title bars, button specifications, and system menu customization.</p>
<p><strong>Namespace:</strong> <code>Krypton.Toolkit</code><br>
<strong>Assembly:</strong> Krypton.Toolkit.dll<br>
<strong>Inheritance:</strong> <code>Object</code> → <code>MarshalByRefObject</code> → <code>Component</code> → <code>Control</code> → <code>ScrollableControl</code> → <code>ContainerControl</code> → <code>Form</code> → <code>VisualForm</code> → <code>KryptonForm</code><br>
<strong>Implements:</strong> <code>IContentValues</code></p>
<hr>
<h2 id="constructor">Constructor</h2>
<h3 id="kryptonform">KryptonForm()</h3>
<p>Initializes a new instance of the <code>KryptonForm</code> class.</p>
<pre><code class="lang-csharp">public KryptonForm()
</code></pre>
<p><strong>Remarks:</strong></p>
<ul>
<li>Sets default properties including header style, title alignment, and double buffering</li>
<li>Creates button specification collections for form control buttons (Min, Max, Close)</li>
<li>Initializes palette storage for active, inactive, and common states</li>
<li>Sets up the view hierarchy for rendering the form chrome</li>
<li>Configures system menu service and tooltip manager</li>
</ul>
<hr>
<h2 id="properties">Properties</h2>
<h3 id="window-style-properties">Window Style Properties</h3>
<h4 id="minimizebox">MinimizeBox</h4>
<p>Gets or sets a value indicating whether the minimize button is displayed.</p>
<pre><code class="lang-csharp">[DefaultValue(true)]
[Category(&quot;Window Style&quot;)]
public new bool MinimizeBox { get; set; }
</code></pre>
<h4 id="maximizebox">MaximizeBox</h4>
<p>Gets or sets a value indicating whether the maximize button is displayed.</p>
<pre><code class="lang-csharp">[DefaultValue(true)]
[Category(&quot;Window Style&quot;)]
public new bool MaximizeBox { get; set; }
</code></pre>
<h4 id="closebox">CloseBox</h4>
<p>Gets or sets a value indicating whether the close button is displayed.</p>
<pre><code class="lang-csharp">[DefaultValue(true)]
[Category(&quot;Window Style&quot;)]
public new bool CloseBox { get; set; }
</code></pre>
<h4 id="controlbox">ControlBox</h4>
<p>Gets or sets a value indicating whether the form has a control box.</p>
<pre><code class="lang-csharp">[DefaultValue(true)]
[Category(&quot;Window Style&quot;)]
public new bool ControlBox { get; set; }
</code></pre>
<h4 id="formborderstyle">FormBorderStyle</h4>
<p>Gets or sets the border style of the form.</p>
<pre><code class="lang-csharp">[Category(&quot;Appearance&quot;)]
[DefaultValue(FormBorderStyle.Sizable)]
public new FormBorderStyle FormBorderStyle { get; set; }
</code></pre>
<h3 id="appearance-properties">Appearance Properties</h3>
<h4 id="textextra">TextExtra</h4>
<p>Gets or sets the extra text associated with the control (secondary title text).</p>
<pre><code class="lang-csharp">[Category(&quot;Appearance&quot;)]
[DefaultValue(&quot;&quot;)]
public string? TextExtra { get; set; }
</code></pre>
<h4 id="headerstyle">HeaderStyle</h4>
<p>Gets or sets the header style for the form title bar.</p>
<pre><code class="lang-csharp">[Category(&quot;Visuals&quot;)]
[DefaultValue(HeaderStyle.Form)]
public HeaderStyle HeaderStyle { get; set; }
</code></pre>
<p><strong>Possible Values:</strong></p>
<ul>
<li><code>HeaderStyle.Form</code> - Standard form header style</li>
<li><code>HeaderStyle.Primary</code> - Primary header style</li>
<li><code>HeaderStyle.Secondary</code> - Secondary header style</li>
<li><code>HeaderStyle.DockActive</code> - Active dock header style</li>
<li><code>HeaderStyle.DockInactive</code> - Inactive dock header style</li>
<li><code>HeaderStyle.Calendar</code> - Calendar header style</li>
<li><code>HeaderStyle.Custom1</code> - Custom header style 1</li>
<li><code>HeaderStyle.Custom2</code> - Custom header style 2</li>
<li><code>HeaderStyle.Custom3</code> - Custom header style 3</li>
</ul>
<h4 id="formtitlealign">FormTitleAlign</h4>
<p>Gets or sets the title position relative to available space.</p>
<pre><code class="lang-csharp">[Category(&quot;Visuals&quot;)]
[DefaultValue(PaletteRelativeAlign.Near)]
public PaletteRelativeAlign FormTitleAlign { get; set; }
</code></pre>
<p><strong>Possible Values:</strong></p>
<ul>
<li><code>PaletteRelativeAlign.Near</code> - Left-aligned</li>
<li><code>PaletteRelativeAlign.Center</code> - Center-aligned</li>
<li><code>PaletteRelativeAlign.Far</code> - Right-aligned</li>
<li><code>PaletteRelativeAlign.Inherit</code> - Inherit from palette</li>
</ul>
<h4 id="titlestyle">TitleStyle</h4>
<p>Gets or sets the title style arrangement (modern vs classic).</p>
<pre><code class="lang-csharp">[Category(&quot;Appearance&quot;)]
[DefaultValue(KryptonFormTitleStyle.Inherit)]
public KryptonFormTitleStyle TitleStyle { get; set; }
</code></pre>
<p><strong>Possible Values:</strong></p>
<ul>
<li><code>KryptonFormTitleStyle.Inherit</code> - Use palette default</li>
<li><code>KryptonFormTitleStyle.Classic</code> - Classic left-aligned title</li>
<li><code>KryptonFormTitleStyle.Modern</code> - Modern center-aligned title</li>
</ul>
<h4 id="groupborderstyle">GroupBorderStyle</h4>
<p>Gets or sets the chrome group border style.</p>
<pre><code class="lang-csharp">[Category(&quot;Visuals&quot;)]
[DefaultValue(PaletteBorderStyle.FormMain)]
public PaletteBorderStyle GroupBorderStyle { get; set; }
</code></pre>
<h4 id="groupbackstyle">GroupBackStyle</h4>
<p>Gets or sets the chrome group background style.</p>
<pre><code class="lang-csharp">[Category(&quot;Visuals&quot;)]
[DefaultValue(PaletteBackStyle.FormMain)]
public PaletteBackStyle GroupBackStyle { get; set; }
</code></pre>
<h3 id="visual-configuration-properties">Visual Configuration Properties</h3>
<h4 id="usethemeformchromeborderwidth">UseThemeFormChromeBorderWidth</h4>
<p>Gets or sets a value indicating whether custom chrome is allowed.</p>
<pre><code class="lang-csharp">[Category(&quot;Visuals&quot;)]
[DefaultValue(true)]
public new bool UseThemeFormChromeBorderWidth { get; set; }
</code></pre>
<h4 id="allowstatusstripmerge">AllowStatusStripMerge</h4>
<p>Gets or sets whether the form status strip should be considered for merging into chrome.</p>
<pre><code class="lang-csharp">[Category(&quot;Visuals&quot;)]
[DefaultValue(true)]
public bool AllowStatusStripMerge { get; set; }
</code></pre>
<h4 id="allowbuttonspectooltips">AllowButtonSpecToolTips</h4>
<p>Gets or sets whether tooltips should be displayed for button specs.</p>
<pre><code class="lang-csharp">[Category(&quot;Visuals&quot;)]
[DefaultValue(false)]
public bool AllowButtonSpecToolTips { get; set; }
</code></pre>
<h4 id="allowicondisplay">AllowIconDisplay</h4>
<p>Gets or sets whether the icon is allowed to be shown.</p>
<pre><code class="lang-csharp">[Browsable(false)]
[EditorBrowsable(EditorBrowsableState.Never)]
public bool AllowIconDisplay { get; set; }
</code></pre>
<h4 id="usedropshadow">UseDropShadow</h4>
<p><strong>(Obsolete)</strong> Gets or sets whether to use drop shadow around the form.</p>
<pre><code class="lang-csharp">[Category(&quot;Visuals&quot;)]
[DefaultValue(false)]
[Obsolete(&quot;Deprecated - Only use if you are using Windows 7, 8 or 8.1.&quot;)]
public bool UseDropShadow { get; set; }
</code></pre>
<h3 id="palette-properties">Palette Properties</h3>
<h4 id="statecommon">StateCommon</h4>
<p>Gets access to the common form appearance entries that other states can override.</p>
<pre><code class="lang-csharp">[Category(&quot;Visuals&quot;)]
[DesignerSerializationVisibility(DesignerSerializationVisibility.Content)]
public PaletteFormRedirect? StateCommon { get; }
</code></pre>
<h4 id="stateinactive">StateInactive</h4>
<p>Gets access to the inactive form appearance entries.</p>
<pre><code class="lang-csharp">[Category(&quot;Visuals&quot;)]
[DesignerSerializationVisibility(DesignerSerializationVisibility.Content)]
public PaletteForm StateInactive { get; }
</code></pre>
<h4 id="stateactive">StateActive</h4>
<p>Gets access to the active form appearance entries.</p>
<pre><code class="lang-csharp">[Category(&quot;Visuals&quot;)]
[DesignerSerializationVisibility(DesignerSerializationVisibility.Content)]
public PaletteForm StateActive { get; }
</code></pre>
<h3 id="button-specification-properties">Button Specification Properties</h3>
<h4 id="buttonspecs">ButtonSpecs</h4>
<p>Gets the collection of button specifications.</p>
<pre><code class="lang-csharp">[Category(&quot;Visuals&quot;)]
[DesignerSerializationVisibility(DesignerSerializationVisibility.Content)]
public FormButtonSpecCollection ButtonSpecs { get; }
</code></pre>
<h4 id="buttonspecmin">ButtonSpecMin</h4>
<p>Gets access to the minimize button specification.</p>
<pre><code class="lang-csharp">[Browsable(false)]
[EditorBrowsable(EditorBrowsableState.Never)]
public ButtonSpecFormWindowMin ButtonSpecMin { get; }
</code></pre>
<h4 id="buttonspecmax">ButtonSpecMax</h4>
<p>Gets access to the maximize button specification.</p>
<pre><code class="lang-csharp">[Browsable(false)]
[EditorBrowsable(EditorBrowsableState.Never)]
public ButtonSpecFormWindowMax ButtonSpecMax { get; }
</code></pre>
<h4 id="buttonspecclose">ButtonSpecClose</h4>
<p>Gets access to the close button specification.</p>
<pre><code class="lang-csharp">[Browsable(false)]
[EditorBrowsable(EditorBrowsableState.Never)]
public ButtonSpecFormWindowClose ButtonSpecClose { get; }
</code></pre>
<h3 id="system-menu-properties">System Menu Properties</h3>
<h4 id="systemmenuvalues">SystemMenuValues</h4>
<p>Gets access to the system menu values for configuration.</p>
<pre><code class="lang-csharp">[Category(&quot;Appearance&quot;)]
[DesignerSerializationVisibility(DesignerSerializationVisibility.Content)]
public SystemMenuValues SystemMenuValues { get; set; }
</code></pre>
<h4 id="kryptonsystemmenu">KryptonSystemMenu</h4>
<p>Gets access to the system menu for advanced customization.</p>
<pre><code class="lang-csharp">[Browsable(false)]
[EditorBrowsable(EditorBrowsableState.Advanced)]
public override IKryptonSystemMenu? KryptonSystemMenu { get; }
</code></pre>
<h3 id="behavior-properties">Behavior Properties</h3>
<h4 id="inertform">InertForm</h4>
<p>Gets or sets whether the border should be inert to changes (no resizing or moving).</p>
<pre><code class="lang-csharp">[Browsable(false)]
[EditorBrowsable(EditorBrowsableState.Never)]
public bool InertForm { get; set; }
</code></pre>
<h4 id="activecontrol">ActiveControl</h4>
<p>Gets or sets the active control on the container control.</p>
<pre><code class="lang-csharp">[DefaultValue(null)]
public new Control? ActiveControl { get; set; }
</code></pre>
<h4 id="ismdicontainer">IsMdiContainer</h4>
<p>Gets or sets whether the form is a container for MDI child forms.</p>
<pre><code class="lang-csharp">[Category(&quot;Behavior&quot;)]
[DefaultValue(false)]
public new bool IsMdiContainer { get; set; }
</code></pre>
<h3 id="state-properties">State Properties</h3>
<h4 id="isinadministratormode">IsInAdministratorMode</h4>
<p>Gets a value indicating whether the user is currently an administrator.</p>
<pre><code class="lang-csharp">[Category(&quot;Appearance&quot;)]
[DesignerSerializationVisibility(DesignerSerializationVisibility.Hidden)]
public bool IsInAdministratorMode { get; private set; }
</code></pre>
<h3 id="chrome-properties">Chrome Properties</h3>
<h4 id="customcaptionarea">CustomCaptionArea</h4>
<p>Gets or sets a rectangle to treat as a custom caption area.</p>
<pre><code class="lang-csharp">[Browsable(false)]
[EditorBrowsable(EditorBrowsableState.Never)]
public Rectangle CustomCaptionArea { get; set; }
</code></pre>
<h3 id="manager-properties">Manager Properties</h3>
<h4 id="tooltipmanager">ToolTipManager</h4>
<p>Gets access to the ToolTipManager used for displaying tooltips.</p>
<pre><code class="lang-csharp">[Browsable(false)]
[DesignerSerializationVisibility(DesignerSerializationVisibility.Hidden)]
public ToolTipManager ToolTipManager { get; }
</code></pre>
<hr>
<h2 id="methods">Methods</h2>
<h3 id="public-methods">Public Methods</h3>
<h4 id="getwindowstate">GetWindowState()</h4>
<p>Gets the current state of the window.</p>
<pre><code class="lang-csharp">[EditorBrowsable(EditorBrowsableState.Never)]
public FormWindowState GetWindowState()
</code></pre>
<p><strong>Returns:</strong> <code>FormWindowState</code> - The current window state (Normal, Minimized, or Maximized)</p>
<p><strong>Remarks:</strong> This method queries the actual window style directly and is more accurate than the <code>WindowState</code> property which can be slightly out of date.</p>
<h4 id="injectviewelementviewbase-viewdockstyle">InjectViewElement(ViewBase, ViewDockStyle)</h4>
<p>Allows an extra view element to be injected into the caption area.</p>
<pre><code class="lang-csharp">[EditorBrowsable(EditorBrowsableState.Never)]
public void InjectViewElement(ViewBase element, ViewDockStyle style)
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>element</code> - Reference to view element to inject</li>
<li><code>style</code> - Docking style of the element</li>
</ul>
<p><strong>Remarks:</strong> Used primarily for advanced customization scenarios, such as adding ribbon application buttons to the title bar.</p>
<h4 id="revokeviewelementviewbase-viewdockstyle">RevokeViewElement(ViewBase, ViewDockStyle)</h4>
<p>Removes a previously injected view element from the caption area.</p>
<pre><code class="lang-csharp">[EditorBrowsable(EditorBrowsableState.Never)]
public void RevokeViewElement(ViewBase element, ViewDockStyle style)
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>element</code> - Reference to view element to remove</li>
<li><code>style</code> - Docking style of the element</li>
</ul>
<h4 id="recreateminmaxclosebuttons">RecreateMinMaxCloseButtons()</h4>
<p>Triggers recreation of min/max/close buttons on next layout.</p>
<pre><code class="lang-csharp">[EditorBrowsable(EditorBrowsableState.Never)]
public void RecreateMinMaxCloseButtons()
</code></pre>
<p><strong>Remarks:</strong> Call this method when you've made changes that require button recreation.</p>
<h4 id="updatedropshadowdrawbool">UpdateDropShadowDraw(bool)</h4>
<p>Updates the drop shadow around the form.</p>
<pre><code class="lang-csharp">public void UpdateDropShadowDraw(bool useDropShadow)
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>useDropShadow</code> - Whether to enable drop shadow</li>
</ul>
<p><strong>Remarks:</strong> This method is obsolete and only relevant for Windows 7, 8, and 8.1.</p>
<h3 id="hit-testing-methods">Hit Testing Methods</h3>
<h4 id="hittestminbuttonpoint">HitTestMinButton(Point)</h4>
<p>Determines if the provided point is inside the minimize button.</p>
<pre><code class="lang-csharp">public bool HitTestMinButton(Point pt)
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>pt</code> - Window-relative point to test</li>
</ul>
<p><strong>Returns:</strong> <code>true</code> if inside the button; otherwise <code>false</code></p>
<h4 id="hittestmaxbuttonpoint">HitTestMaxButton(Point)</h4>
<p>Determines if the provided point is inside the maximize button.</p>
<pre><code class="lang-csharp">public bool HitTestMaxButton(Point pt)
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>pt</code> - Window-relative point to test</li>
</ul>
<p><strong>Returns:</strong> <code>true</code> if inside the button; otherwise <code>false</code></p>
<h4 id="hittestclosebuttonpoint">HitTestCloseButton(Point)</h4>
<p>Determines if the provided point is inside the close button.</p>
<pre><code class="lang-csharp">public bool HitTestCloseButton(Point pt)
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>pt</code> - Window-relative point to test</li>
</ul>
<p><strong>Returns:</strong> <code>true</code> if inside the button; otherwise <code>false</code></p>
<h3 id="static-administrator-methods">Static Administrator Methods</h3>
<h4 id="gethascurrentinstancegotadministrativerights">GetHasCurrentInstanceGotAdministrativeRights()</h4>
<p>Checks if the current application instance has administrative rights.</p>
<pre><code class="lang-csharp">public static bool GetHasCurrentInstanceGotAdministrativeRights()
</code></pre>
<p><strong>Returns:</strong> <code>true</code> if running with administrator privileges; otherwise <code>false</code></p>
<h4 id="setisinadministratormodebool">SetIsInAdministratorMode(bool)</h4>
<p>Sets the administrator mode state.</p>
<pre><code class="lang-csharp">public static void SetIsInAdministratorMode(bool value)
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>value</code> - Administrator mode state</li>
</ul>
<h4 id="getisinadministratormode">GetIsInAdministratorMode()</h4>
<p>Gets the current administrator mode state.</p>
<pre><code class="lang-csharp">public static bool GetIsInAdministratorMode()
</code></pre>
<p><strong>Returns:</strong> <code>true</code> if in administrator mode; otherwise <code>false</code></p>
<h3 id="icontentvalues-implementation">IContentValues Implementation</h3>
<h4 id="getimagepalettestate">GetImage(PaletteState)</h4>
<p>Gets the image used for showing on the title bar.</p>
<pre><code class="lang-csharp">public Image? GetImage(PaletteState state)
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>state</code> - Form state</li>
</ul>
<p><strong>Returns:</strong> Image for the title bar icon</p>
<h4 id="getimagetransparentcolorpalettestate">GetImageTransparentColor(PaletteState)</h4>
<p>Gets the image color that should be interpreted as transparent.</p>
<pre><code class="lang-csharp">public Color GetImageTransparentColor(PaletteState state)
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>state</code> - Form state</li>
</ul>
<p><strong>Returns:</strong> Transparent color (always returns <code>GlobalStaticValues.EMPTY_COLOR</code>)</p>
<h4 id="getshorttext">GetShortText()</h4>
<p>Gets the short text used as the main caption title.</p>
<pre><code class="lang-csharp">public string GetShortText()
</code></pre>
<p><strong>Returns:</strong> The form's <code>Text</code> property value</p>
<h4 id="getlongtext">GetLongText()</h4>
<p>Gets the long text used as the secondary caption title.</p>
<pre><code class="lang-csharp">public string GetLongText()
</code></pre>
<p><strong>Returns:</strong> The form's <code>TextExtra</code> property value</p>
<hr>
<h2 id="protected-methods">Protected Methods</h2>
<h3 id="override-methods">Override Methods</h3>
<h4 id="createredirector">CreateRedirector()</h4>
<p>Creates the redirector instance.</p>
<pre><code class="lang-csharp">protected override PaletteRedirect CreateRedirector()
</code></pre>
<p><strong>Returns:</strong> <code>PaletteRedirect</code> derived class instance</p>
<h4 id="oncontroladdedcontroleventargs">OnControlAdded(ControlEventArgs)</h4>
<p>Raises the ControlAdded event.</p>
<pre><code class="lang-csharp">protected override void OnControlAdded(ControlEventArgs e)
</code></pre>
<p><strong>Remarks:</strong> Monitors for StatusStrip controls to enable status strip merging.</p>
<h4 id="oncontrolremovedcontroleventargs">OnControlRemoved(ControlEventArgs)</h4>
<p>Raises the ControlRemoved event.</p>
<pre><code class="lang-csharp">protected override void OnControlRemoved(ControlEventArgs e)
</code></pre>
<p><strong>Remarks:</strong> Unhooks from StatusStrip events when removed.</p>
<h4 id="onloadeventargs">OnLoad(EventArgs)</h4>
<p>Raises the Load event.</p>
<pre><code class="lang-csharp">protected override void OnLoad(EventArgs e)
</code></pre>
<p><strong>Remarks:</strong> Applies custom chrome when the control is fully created and positioned.</p>
<h4 id="ontextchangedeventargs">OnTextChanged(EventArgs)</h4>
<p>Raises the TextChanged event.</p>
<pre><code class="lang-csharp">protected override void OnTextChanged(EventArgs e)
</code></pre>
<h4 id="onbuttonspecchangedobject-eventargs">OnButtonSpecChanged(object, EventArgs)</h4>
<p>Processes a notification from palette storage of a button spec change.</p>
<pre><code class="lang-csharp">protected override void OnButtonSpecChanged(object? sender, EventArgs e)
</code></pre>
<h4 id="onwindowactivechanged">OnWindowActiveChanged()</h4>
<p>Called when the active state of the window changes.</p>
<pre><code class="lang-csharp">protected override void OnWindowActiveChanged()
</code></pre>
<p><strong>Remarks:</strong> Updates palettes to use active or inactive state appearance.</p>
<h4 id="onpalettechangedeventargs">OnPaletteChanged(EventArgs)</h4>
<p>Raises the PaletteChanged event.</p>
<pre><code class="lang-csharp">protected override void OnPaletteChanged(EventArgs e)
</code></pre>
<h4 id="onusethemeformchromeborderwidthchangedobject-eventargs">OnUseThemeFormChromeBorderWidthChanged(object, EventArgs)</h4>
<p>Occurs when the UseThemeFormChromeBorderWidthChanged event is fired.</p>
<pre><code class="lang-csharp">protected override void OnUseThemeFormChromeBorderWidthChanged(object? sender, EventArgs e)
</code></pre>
<h4 id="wndprocref-message">WndProc(ref Message)</h4>
<p>Processes Windows messages.</p>
<pre><code class="lang-csharp">protected override void WndProc(ref Message m)
</code></pre>
<p><strong>Remarks:</strong> Handles custom system menu behavior including:</p>
<ul>
<li>Right-click in non-client area</li>
<li>Help button (F1)</li>
<li>Context menu requests</li>
</ul>
<h4 id="onhandlecreatedeventargs">OnHandleCreated(EventArgs)</h4>
<p>Raises the HandleCreated event.</p>
<pre><code class="lang-csharp">protected override void OnHandleCreated(EventArgs e)
</code></pre>
<p><strong>Remarks:</strong> Ensures proper layout for MDI containers and registers with ActiveFormTracker.</p>
<h3 id="chrome-methods">Chrome Methods</h3>
<h4 id="windowchromestart">WindowChromeStart()</h4>
<p>Performs setup for custom chrome.</p>
<pre><code class="lang-csharp">protected override void WindowChromeStart()
</code></pre>
<h4 id="windowchromeend">WindowChromeEnd()</h4>
<p>Performs cleanup when custom chrome ending.</p>
<pre><code class="lang-csharp">protected override void WindowChromeEnd()
</code></pre>
<h4 id="windowchromehittestpoint">WindowChromeHitTest(Point)</h4>
<p>Performs hit testing for window chrome.</p>
<pre><code class="lang-csharp">protected override IntPtr WindowChromeHitTest(Point pt)
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>pt</code> - Point in window coordinates</li>
</ul>
<p><strong>Returns:</strong> Hit test result code</p>
<h4 id="windowchromepaintgraphics-rectangle">WindowChromePaint(Graphics, Rectangle)</h4>
<p>Performs painting of the window chrome.</p>
<pre><code class="lang-csharp">protected override void WindowChromePaint(Graphics g, Rectangle bounds)
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>g</code> - Graphics instance to use for drawing</li>
<li><code>bounds</code> - Bounds enclosing the window chrome</li>
</ul>
<h4 id="onwm_nclbuttondownref-message">OnWM_NCLBUTTONDOWN(ref Message)</h4>
<p>Processes the WM_NCLBUTTONDOWN message when overriding window chrome.</p>
<pre><code class="lang-csharp">protected override bool OnWM_NCLBUTTONDOWN(ref Message m)
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>m</code> - A Windows-based message</li>
</ul>
<p><strong>Returns:</strong> <code>true</code> if the message was processed; otherwise <code>false</code></p>
<p><strong>Remarks:</strong> Handles icon click for system menu display.</p>
<h4 id="windowchromeleftmousedownpoint">WindowChromeLeftMouseDown(Point)</h4>
<p>Processes the left mouse down event.</p>
<pre><code class="lang-csharp">protected override bool WindowChromeLeftMouseDown(Point windowPoint)
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>windowPoint</code> - Window coordinate of the mouse down</li>
</ul>
<p><strong>Returns:</strong> <code>true</code> if event is processed; otherwise <code>false</code></p>
<h4 id="onmoveeventargs">OnMove(EventArgs)</h4>
<p>Raises the Move event.</p>
<pre><code class="lang-csharp">protected override void OnMove(EventArgs e)
</code></pre>
<h3 id="system-menu-methods">System Menu Methods</h3>
<h4 id="isintitlebarareapoint">IsInTitleBarArea(Point)</h4>
<p>Determines if the specified screen point is within the title bar area.</p>
<pre><code class="lang-csharp">protected override bool IsInTitleBarArea(Point screenPoint)
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>screenPoint</code> - The screen coordinates to test</li>
</ul>
<p><strong>Returns:</strong> <code>true</code> if the point is in the title bar area; otherwise <code>false</code></p>
<h4 id="isoncontrolbuttonspoint">IsOnControlButtons(Point)</h4>
<p>Determines if the specified screen point is over the control buttons (min/max/close).</p>
<pre><code class="lang-csharp">protected override bool IsOnControlButtons(Point screenPoint)
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>screenPoint</code> - The screen coordinates to test</li>
</ul>
<p><strong>Returns:</strong> <code>true</code> if the point is over control buttons; otherwise <code>false</code></p>
<h4 id="showsystemmenupoint">ShowSystemMenu(Point)</h4>
<p>Shows the system menu at the specified screen location.</p>
<pre><code class="lang-csharp">protected override void ShowSystemMenu(Point screenLocation)
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>screenLocation</code> - The screen coordinates where the menu should appear</li>
</ul>
<h4 id="showsystemmenuatformtopleft">ShowSystemMenuAtFormTopLeft()</h4>
<p>Shows the system menu at the form's top-left position.</p>
<pre><code class="lang-csharp">protected override void ShowSystemMenuAtFormTopLeft()
</code></pre>
<h4 id="handlesystemmenukeyboardshortcutkeys">HandleSystemMenuKeyboardShortcut(Keys)</h4>
<p>Handles keyboard shortcuts for the system menu.</p>
<pre><code class="lang-csharp">protected override bool HandleSystemMenuKeyboardShortcut(Keys keyData)
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>keyData</code> - The key data to process</li>
</ul>
<p><strong>Returns:</strong> <code>true</code> if the shortcut was handled; otherwise <code>false</code></p>
<h4 id="processcmdkeyref-message-keys">ProcessCmdKey(ref Message, Keys)</h4>
<p>Processes a command key.</p>
<pre><code class="lang-csharp">protected override bool ProcessCmdKey(ref Message msg, Keys keyData)
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>msg</code> - A Message, passed by reference, that represents the Win32 message to process</li>
<li><code>keyData</code> - One of the Keys values that represents the key to process</li>
</ul>
<p><strong>Returns:</strong> <code>true</code> if the character was processed; otherwise <code>false</code></p>
<hr>
<h2 id="nested-types">Nested Types</h2>
<h3 id="formbuttonspeccollection">FormButtonSpecCollection</h3>
<p>Collection for managing <code>ButtonSpecAny</code> instances.</p>
<pre><code class="lang-csharp">public class FormButtonSpecCollection : ButtonSpecCollection&lt;ButtonSpecAny&gt;
</code></pre>
<p><strong>Constructor:</strong></p>
<pre><code class="lang-csharp">public FormButtonSpecCollection(KryptonForm owner)
</code></pre>
<h3 id="formfixedbuttonspeccollection">FormFixedButtonSpecCollection</h3>
<p>Collection for managing <code>ButtonSpecFormFixed</code> instances.</p>
<pre><code class="lang-csharp">public class FormFixedButtonSpecCollection : ButtonSpecCollection&lt;ButtonSpecFormFixed&gt;
</code></pre>
<p><strong>Constructor:</strong></p>
<pre><code class="lang-csharp">public FormFixedButtonSpecCollection(KryptonForm owner)
</code></pre>
<hr>
<h2 id="examples">Examples</h2>
<h3 id="example-1-basic-kryptonform-creation">Example 1: Basic KryptonForm Creation</h3>
<pre><code class="lang-csharp">using Krypton.Toolkit;

public partial class MyForm : KryptonForm
{
    public MyForm()
    {
        InitializeComponent();
        
        // Set basic properties
        Text = &quot;My Application&quot;;
        TextExtra = &quot;Version 1.0&quot;;
        HeaderStyle = HeaderStyle.Form;
    }
}
</code></pre>
<h3 id="example-2-customizing-form-appearance">Example 2: Customizing Form Appearance</h3>
<pre><code class="lang-csharp">using Krypton.Toolkit;

public partial class CustomForm : KryptonForm
{
    public CustomForm()
    {
        InitializeComponent();
        
        // Modern centered title
        TitleStyle = KryptonFormTitleStyle.Modern;
        
        // Custom header style
        HeaderStyle = HeaderStyle.Primary;
        
        // Customize active state colors
        StateActive.Back.Color1 = Color.DarkBlue;
        StateActive.Back.Color2 = Color.Navy;
        StateActive.Header.Content.ShortText.Color1 = Color.White;
        
        // Customize inactive state
        StateInactive.Back.Color1 = Color.Gray;
        StateInactive.Back.Color2 = Color.DarkGray;
    }
}
</code></pre>
<h3 id="example-3-adding-custom-button-specs">Example 3: Adding Custom Button Specs</h3>
<pre><code class="lang-csharp">using Krypton.Toolkit;

public partial class ButtonSpecForm : KryptonForm
{
    public ButtonSpecForm()
    {
        InitializeComponent();
        
        // Add a custom help button
        var helpButton = new ButtonSpecAny
        {
            Type = PaletteButtonSpecStyle.Help,
            ToolTipTitle = &quot;Help&quot;,
            ToolTipBody = &quot;Click for help information&quot;
        };
        helpButton.Click += HelpButton_Click;
        
        ButtonSpecs.Add(helpButton);
        AllowButtonSpecToolTips = true;
    }
    
    private void HelpButton_Click(object sender, EventArgs e)
    {
        MessageBox.Show(&quot;Help information&quot;, &quot;Help&quot;);
    }
}
</code></pre>
<h3 id="example-4-customizing-system-menu">Example 4: Customizing System Menu</h3>
<pre><code class="lang-csharp">using Krypton.Toolkit;

public partial class SystemMenuForm : KryptonForm
{
    public SystemMenuForm()
    {
        InitializeComponent();
        
        // Configure system menu
        SystemMenuValues.Enabled = true;
        SystemMenuValues.ShowOnRightClick = true;
        SystemMenuValues.ShowOnIconClick = true;
        SystemMenuValues.ShowOnAltSpace = true;
        
        // Add custom menu items
        var customItem = new ToolStripMenuItem(&quot;Custom Action&quot;);
        customItem.Click += CustomItem_Click;
        SystemMenuValues.CustomMenuItems.Add(customItem);
    }
    
    private void CustomItem_Click(object sender, EventArgs e)
    {
        MessageBox.Show(&quot;Custom action executed!&quot;);
    }
}
</code></pre>
<h3 id="example-5-handling-administrator-mode">Example 5: Handling Administrator Mode</h3>
<pre><code class="lang-csharp">using Krypton.Toolkit;

public partial class AdminForm : KryptonForm
{
    public AdminForm()
    {
        InitializeComponent();
        
        // Check administrator rights
        bool isAdmin = KryptonForm.GetHasCurrentInstanceGotAdministrativeRights();
        
        if (isAdmin)
        {
            TextExtra = &quot;[Administrator]&quot;;
            StateActive.Header.Content.ShortText.Color1 = Color.Red;
        }
        else
        {
            TextExtra = &quot;[Standard User]&quot;;
        }
    }
}
</code></pre>
<h3 id="example-6-mdi-container-setup">Example 6: MDI Container Setup</h3>
<pre><code class="lang-csharp">using Krypton.Toolkit;

public partial class MdiParentForm : KryptonForm
{
    public MdiParentForm()
    {
        InitializeComponent();
        
        // Set up as MDI container
        IsMdiContainer = true;
        
        // Create child forms
        var child1 = new KryptonForm
        {
            MdiParent = this,
            Text = &quot;Child 1&quot;,
            Size = new Size(400, 300)
        };
        child1.Show();
        
        var child2 = new KryptonForm
        {
            MdiParent = this,
            Text = &quot;Child 2&quot;,
            Size = new Size(400, 300)
        };
        child2.Show();
    }
}
</code></pre>
<h3 id="example-7-status-strip-merging">Example 7: Status Strip Merging</h3>
<pre><code class="lang-csharp">using Krypton.Toolkit;

public partial class StatusStripForm : KryptonForm
{
    public StatusStripForm()
    {
        InitializeComponent();
        
        // Enable status strip merging
        AllowStatusStripMerge = true;
        
        // Create and configure status strip
        var statusStrip = new StatusStrip
        {
            Dock = DockStyle.Bottom,
            RenderMode = ToolStripRenderMode.ManagerRenderMode
        };
        
        statusStrip.Items.Add(new ToolStripStatusLabel(&quot;Ready&quot;));
        
        Controls.Add(statusStrip);
    }
}
</code></pre>
<h3 id="example-8-disabling-window-controls">Example 8: Disabling Window Controls</h3>
<pre><code class="lang-csharp">using Krypton.Toolkit;

public partial class LockedForm : KryptonForm
{
    public LockedForm()
    {
        InitializeComponent();
        
        // Disable resizing and moving
        InertForm = true;
        FormBorderStyle = FormBorderStyle.FixedSingle;
        
        // Remove minimize and maximize buttons
        MinimizeBox = false;
        MaximizeBox = false;
    }
}
</code></pre>
<hr>
<h2 id="remarks">Remarks</h2>
<h3 id="important-notes">Important Notes</h3>
<ol>
<li><p><strong>Custom Chrome</strong>: The <code>KryptonForm</code> automatically applies custom window chrome based on the selected palette. This can be controlled via <code>UseThemeFormChromeBorderWidth</code> property.</p>
</li>
<li><p><strong>Palette Modes</strong>: The form appearance is driven by the palette system. You can customize appearances through <code>StateActive</code>, <code>StateInactive</code>, and <code>StateCommon</code> properties.</p>
</li>
<li><p><strong>Button Specifications</strong>: Form control buttons (Min, Max, Close) are implemented as button specifications, allowing for complete customization.</p>
</li>
<li><p><strong>System Menu</strong>: The form provides a themed system menu that can be fully customized through <code>SystemMenuValues</code> property.</p>
</li>
<li><p><strong>Status Strip Merging</strong>: When <code>AllowStatusStripMerge</code> is enabled and conditions are met, the status strip is merged into the form chrome for a seamless appearance.</p>
</li>
<li><p><strong>MDI Support</strong>: Full support for MDI parent and child forms with proper chrome rendering.</p>
</li>
<li><p><strong>DPI Awareness</strong>: The form automatically handles DPI scaling for icons and chrome elements.</p>
</li>
</ol>
<h3 id="best-practices">Best Practices</h3>
<ol>
<li>Always set the <code>Text</code> property for the main title and <code>TextExtra</code> for secondary information.</li>
<li>Use appropriate <code>HeaderStyle</code> values to match your application's visual style.</li>
<li>Customize palette states (<code>StateActive</code>, <code>StateInactive</code>) for consistent branding.</li>
<li>Enable <code>AllowButtonSpecToolTips</code> if you're adding custom button specifications with tooltips.</li>
<li>Configure <code>SystemMenuValues</code> to control system menu behavior and customize menu items.</li>
<li>Test your forms in both active and inactive states to ensure proper appearance.</li>
</ol>

</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      <span>Krypton Component Suite 2024
BSD 3-Clause License
© Component Factory Pty Ltd, 2006 - 2016, All rights reserved.</span> <span>Modifications by Peter Wagner (aka Wagnerp), Simon Coghlan (aka Smurf-IV), Giduac, Tobitege, Lesarndro, KamaniAR & Ahmed Abdelhameed et al. 2017 - 2025. All rights reserved. <a href="https://github.com/Krypton-Suite">https://github.com/Krypton-Suite</a></span>
      
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../../../../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
