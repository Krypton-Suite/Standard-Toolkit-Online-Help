<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>KryptonNotifyIcon Developer Documentation | Krypton Standard Toolkit Documentation </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="KryptonNotifyIcon Developer Documentation | Krypton Standard Toolkit Documentation ">
    
    
      <link rel="shortcut icon" href="../../../../Krypton.ico">
      <link rel="stylesheet" href="../../../../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../../../../styles/docfx.css">
      <link rel="stylesheet" href="../../../../styles/main.css">
      <meta property="docfx:navrel" content="../../../../toc.html">
      <meta property="docfx:tocrel" content="../../../toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="svg" src="../../../../Logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="kryptonnotifyicon-developer-documentation">KryptonNotifyIcon Developer Documentation</h1>

<h2 id="overview">Overview</h2>
<p><code>KryptonNotifyIcon</code> is a Krypton-themed wrapper for the standard WinForms <code>NotifyIcon</code> component. It provides system tray icon functionality with full Krypton palette integration and exposes all standard <code>NotifyIcon</code> properties and events.</p>
<h2 id="key-features">Key Features</h2>
<ul>
<li><strong>System Tray Integration</strong>: Displays an icon in the Windows notification area (system tray)</li>
<li><strong>Krypton Theming</strong>: Integrates with the Krypton palette system</li>
<li><strong>Balloon Tips</strong>: Support for balloon tooltips with various icon types</li>
<li><strong>Context Menu Support</strong>: Can display context menus when the icon is clicked</li>
<li><strong>Full Event Support</strong>: All standard <code>NotifyIcon</code> events are exposed</li>
<li><strong>Icon Management</strong>: Automatic icon disposal and management</li>
</ul>
<h2 id="namespace">Namespace</h2>
<pre><code class="lang-csharp">using Krypton.Toolkit;
</code></pre>
<h2 id="class-declaration">Class Declaration</h2>
<pre><code class="lang-csharp">public class KryptonNotifyIcon : Component
</code></pre>
<h2 id="properties">Properties</h2>
<h3 id="palette-properties">Palette Properties</h3>
<h4 id="palettemode"><code>PaletteMode</code></h4>
<pre><code class="lang-csharp">[Category(&quot;Visuals&quot;)]
[Description(&quot;Sets the palette mode.&quot;)]
[DefaultValue(PaletteMode.Global)]
public PaletteMode PaletteMode { get; set; }
</code></pre>
<p>Gets or sets the palette mode. See <code>KryptonToolStripContainer</code> documentation for available palette modes.</p>
<h4 id="palette"><code>Palette</code></h4>
<pre><code class="lang-csharp">[Category(&quot;Visuals&quot;)]
[Description(&quot;Sets the custom palette to be used.&quot;)]
[DefaultValue(null)]
public PaletteBase? Palette { get; set; }
</code></pre>
<p>Gets or sets a custom palette implementation.</p>
<h3 id="notifyicon-properties">NotifyIcon Properties</h3>
<h4 id="icon"><code>Icon</code></h4>
<pre><code class="lang-csharp">[Category(&quot;Appearance&quot;)]
[Description(&quot;The icon to display in the notification area.&quot;)]
[DefaultValue(null)]
public Icon? Icon { get; set; }
</code></pre>
<p>Gets or sets the icon displayed in the notification area. The icon is automatically disposed when the component is disposed.</p>
<h4 id="text"><code>Text</code></h4>
<pre><code class="lang-csharp">[Category(&quot;Appearance&quot;)]
[Description(&quot;The ToolTip text displayed when the mouse pointer rests on a notification area icon.&quot;)]
[DefaultValue(&quot;&quot;)]
[Localizable(true)]
public string Text { get; set; }
</code></pre>
<p>Gets or sets the ToolTip text displayed when the mouse pointer rests on the notification area icon.</p>
<h4 id="visible"><code>Visible</code></h4>
<pre><code class="lang-csharp">[Category(&quot;Behavior&quot;)]
[Description(&quot;Indicates whether the icon is visible in the notification area.&quot;)]
[DefaultValue(false)]
public bool Visible { get; set; }
</code></pre>
<p>Gets or sets a value indicating whether the icon is visible in the notification area.</p>
<h4 id="balloontiptext"><code>BalloonTipText</code></h4>
<pre><code class="lang-csharp">[Category(&quot;Appearance&quot;)]
[Description(&quot;The text to display on the BalloonTip.&quot;)]
[DefaultValue(&quot;&quot;)]
[Localizable(true)]
public string BalloonTipText { get; set; }
</code></pre>
<p>Gets or sets the text to display on the BalloonTip associated with the NotifyIcon.</p>
<h4 id="balloontiptitle"><code>BalloonTipTitle</code></h4>
<pre><code class="lang-csharp">[Category(&quot;Appearance&quot;)]
[Description(&quot;The title to display on the BalloonTip.&quot;)]
[DefaultValue(&quot;&quot;)]
[Localizable(true)]
public string BalloonTipTitle { get; set; }
</code></pre>
<p>Gets or sets the title to display on the BalloonTip.</p>
<h4 id="balloontipicon"><code>BalloonTipIcon</code></h4>
<pre><code class="lang-csharp">[Category(&quot;Appearance&quot;)]
[Description(&quot;The icon to display on the BalloonTip.&quot;)]
[DefaultValue(ToolTipIcon.None)]
public ToolTipIcon BalloonTipIcon { get; set; }
</code></pre>
<p>Gets or sets the icon to display on the BalloonTip. Valid values:</p>
<ul>
<li><code>ToolTipIcon.None</code> - No icon</li>
<li><code>ToolTipIcon.Info</code> - Information icon</li>
<li><code>ToolTipIcon.Warning</code> - Warning icon</li>
<li><code>ToolTipIcon.Error</code> - Error icon</li>
</ul>
<h4 id="contextmenustrip"><code>ContextMenuStrip</code></h4>
<pre><code class="lang-csharp">[Category(&quot;Behavior&quot;)]
[Description(&quot;The context menu to display when the icon is right-clicked.&quot;)]
[DefaultValue(null)]
public ContextMenuStrip? ContextMenuStrip { get; set; }
</code></pre>
<p>Gets or sets the context menu to display when the icon is right-clicked.</p>
<h2 id="methods">Methods</h2>
<h3 id="showballoontip"><code>ShowBalloonTip</code></h3>
<pre><code class="lang-csharp">public void ShowBalloonTip(int timeout)
</code></pre>
<p>Displays a balloon tip in the taskbar for the specified time period.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>timeout</code> - The time period, in milliseconds, the balloon tip should display</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">notifyIcon.ShowBalloonTip(5000);
</code></pre>
<h3 id="showballoontip-1"><code>ShowBalloonTip</code></h3>
<pre><code class="lang-csharp">public void ShowBalloonTip(int timeout, string tipTitle, string tipText, ToolTipIcon tipIcon)
</code></pre>
<p>Displays a balloon tip with the specified title, text, and icon in the taskbar for the specified time period.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>timeout</code> - The time period, in milliseconds, the balloon tip should display</li>
<li><code>tipTitle</code> - The title to display on the balloon tip</li>
<li><code>tipText</code> - The text to display on the balloon tip</li>
<li><code>tipIcon</code> - One of the <code>ToolTipIcon</code> values that specifies the icon to display</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">notifyIcon.ShowBalloonTip(5000, &quot;Update Available&quot;, &quot;A new version is ready to install.&quot;, ToolTipIcon.Info);
</code></pre>
<h2 id="events">Events</h2>
<h3 id="click"><code>Click</code></h3>
<pre><code class="lang-csharp">[Category(&quot;Action&quot;)]
[Description(&quot;Occurs when the user clicks the icon in the notification area.&quot;)]
public event EventHandler? Click;
</code></pre>
<p>Occurs when the user clicks the icon in the notification area.</p>
<h3 id="doubleclick"><code>DoubleClick</code></h3>
<pre><code class="lang-csharp">[Category(&quot;Action&quot;)]
[Description(&quot;Occurs when the user double-clicks the icon in the notification area.&quot;)]
public event EventHandler? DoubleClick;
</code></pre>
<p>Occurs when the user double-clicks the icon in the notification area.</p>
<h3 id="mouseclick"><code>MouseClick</code></h3>
<pre><code class="lang-csharp">[Category(&quot;Action&quot;)]
[Description(&quot;Occurs when the user clicks a mouse button while the pointer is over the icon.&quot;)]
public event MouseEventHandler? MouseClick;
</code></pre>
<p>Occurs when the user clicks a mouse button while the pointer is over the icon in the notification area.</p>
<h3 id="mousedoubleclick"><code>MouseDoubleClick</code></h3>
<pre><code class="lang-csharp">[Category(&quot;Action&quot;)]
[Description(&quot;Occurs when the user double-clicks the icon with the mouse.&quot;)]
public event MouseEventHandler? MouseDoubleClick;
</code></pre>
<p>Occurs when the user double-clicks the icon in the notification area with the mouse.</p>
<h3 id="mousemove"><code>MouseMove</code></h3>
<pre><code class="lang-csharp">[Category(&quot;Action&quot;)]
[Description(&quot;Occurs when the user moves the mouse over the icon.&quot;)]
public event MouseEventHandler? MouseMove;
</code></pre>
<p>Occurs when the user moves the mouse over the icon in the notification area.</p>
<h3 id="mousedown"><code>MouseDown</code></h3>
<pre><code class="lang-csharp">[Category(&quot;Action&quot;)]
[Description(&quot;Occurs when the user presses a mouse button while the pointer is over the icon.&quot;)]
public event MouseEventHandler? MouseDown;
</code></pre>
<p>Occurs when the user presses a mouse button while the pointer is over the icon in the notification area.</p>
<h3 id="mouseup"><code>MouseUp</code></h3>
<pre><code class="lang-csharp">[Category(&quot;Action&quot;)]
[Description(&quot;Occurs when the user releases a mouse button while the pointer is over the icon.&quot;)]
public event MouseEventHandler? MouseUp;
</code></pre>
<p>Occurs when the user releases a mouse button while the pointer is over the icon in the notification area.</p>
<h3 id="balloontipclicked"><code>BalloonTipClicked</code></h3>
<pre><code class="lang-csharp">[Category(&quot;Action&quot;)]
[Description(&quot;Occurs when the BalloonTip is clicked.&quot;)]
public event EventHandler? BalloonTipClicked;
</code></pre>
<p>Occurs when the BalloonTip is clicked.</p>
<h3 id="balloontipclosed"><code>BalloonTipClosed</code></h3>
<pre><code class="lang-csharp">[Category(&quot;Action&quot;)]
[Description(&quot;Occurs when the BalloonTip is closed by the user.&quot;)]
public event EventHandler? BalloonTipClosed;
</code></pre>
<p>Occurs when the BalloonTip is closed by the user.</p>
<h3 id="balloontipshown"><code>BalloonTipShown</code></h3>
<pre><code class="lang-csharp">[Category(&quot;Action&quot;)]
[Description(&quot;Occurs when the BalloonTip is displayed on the screen.&quot;)]
public event EventHandler? BalloonTipShown;
</code></pre>
<p>Occurs when the BalloonTip is displayed on the screen.</p>
<h2 id="usage-examples">Usage Examples</h2>
<h3 id="basic-system-tray-icon">Basic System Tray Icon</h3>
<pre><code class="lang-csharp">public partial class MainForm : KryptonForm
{
    private KryptonNotifyIcon notifyIcon;

    public MainForm()
    {
        InitializeComponent();
        
        // Create notify icon
        notifyIcon = new KryptonNotifyIcon
        {
            Icon = SystemIcons.Application,
            Text = &quot;My Application&quot;,
            Visible = true
        };

        // Handle click events
        notifyIcon.Click += NotifyIcon_Click;
        notifyIcon.DoubleClick += NotifyIcon_DoubleClick;
    }

    private void NotifyIcon_Click(object? sender, EventArgs e)
    {
        // Show form if minimized
        if (WindowState == FormWindowState.Minimized)
        {
            WindowState = FormWindowState.Normal;
            Show();
            Activate();
        }
    }

    private void NotifyIcon_DoubleClick(object? sender, EventArgs e)
    {
        // Toggle visibility
        if (Visible)
        {
            Hide();
        }
        else
        {
            Show();
            WindowState = FormWindowState.Normal;
            Activate();
        }
    }

    protected override void OnFormClosing(FormClosingEventArgs e)
    {
        // Hide to tray instead of closing
        if (e.CloseReason == CloseReason.UserClosing)
        {
            e.Cancel = true;
            Hide();
            notifyIcon.ShowBalloonTip(2000, &quot;Application&quot;, &quot;Application minimized to tray.&quot;, ToolTipIcon.Info);
        }
        else
        {
            notifyIcon?.Dispose();
        }
        
        base.OnFormClosing(e);
    }
}
</code></pre>
<h3 id="context-menu">Context Menu</h3>
<pre><code class="lang-csharp">// Create context menu
var contextMenu = new KryptonContextMenu();
contextMenu.Items.Add(new KryptonContextMenuItem(&quot;Show&quot;, OnShow));
contextMenu.Items.Add(new KryptonContextMenuItem(&quot;Settings&quot;, OnSettings));
contextMenu.Items.Add(new KryptonContextMenuSeparator());
contextMenu.Items.Add(new KryptonContextMenuItem(&quot;Exit&quot;, OnExit));

notifyIcon.ContextMenuStrip = contextMenu;
</code></pre>
<h3 id="balloon-tips">Balloon Tips</h3>
<pre><code class="lang-csharp">// Show notification
notifyIcon.BalloonTipTitle = &quot;Update Available&quot;;
notifyIcon.BalloonTipText = &quot;A new version of the application is available.&quot;;
notifyIcon.BalloonTipIcon = ToolTipIcon.Info;
notifyIcon.ShowBalloonTip(5000);

// Handle balloon tip events
notifyIcon.BalloonTipClicked += (s, e) =&gt;
{
    // Open update dialog
    ShowUpdateDialog();
};

notifyIcon.BalloonTipClosed += (s, e) =&gt;
{
    // Cleanup if needed
};
</code></pre>
<h3 id="application-minimize-to-tray">Application Minimize to Tray</h3>
<pre><code class="lang-csharp">private void MainForm_Resize(object sender, EventArgs e)
{
    if (WindowState == FormWindowState.Minimized)
    {
        Hide();
        notifyIcon.Visible = true;
        notifyIcon.ShowBalloonTip(2000, &quot;Application&quot;, &quot;Application minimized to tray.&quot;, ToolTipIcon.Info);
    }
}

private void NotifyIcon_DoubleClick(object? sender, EventArgs e)
{
    Show();
    WindowState = FormWindowState.Normal;
    Activate();
}
</code></pre>
<h2 id="best-practices">Best Practices</h2>
<ol>
<li><p><strong>Icon Disposal</strong>: The component automatically disposes of the icon. Ensure the component is properly disposed when the application exits.</p>
</li>
<li><p><strong>Visibility Management</strong>: Always set <code>Visible = false</code> before disposing to ensure the icon is removed from the system tray.</p>
</li>
<li><p><strong>Balloon Tips</strong>: Use balloon tips sparingly and with appropriate timeouts. Too many notifications can annoy users.</p>
</li>
<li><p><strong>Context Menus</strong>: Provide a context menu for right-click functionality. Include options like Show, Settings, and Exit.</p>
</li>
<li><p><strong>Minimize to Tray</strong>: When implementing minimize-to-tray, ensure the form can be restored via the notify icon.</p>
</li>
<li><p><strong>Icon Size</strong>: Use 16x16 or 32x32 pixel icons for best results in the system tray.</p>
</li>
<li><p><strong>Text Length</strong>: Keep the <code>Text</code> property (tooltip) short and descriptive.</p>
</li>
</ol>
<h2 id="technical-details">Technical Details</h2>
<h3 id="icon-management">Icon Management</h3>
<p>The component manages icon disposal automatically. When you set a new icon, the previous icon is disposed. When the component is disposed, the current icon is also disposed.</p>
<h3 id="system-tray-behavior">System Tray Behavior</h3>
<ul>
<li>The icon appears in the Windows notification area (system tray)</li>
<li>Windows may hide the icon if the notification area is full</li>
<li>Users can configure icon visibility through Windows settings</li>
<li>The icon is automatically removed when the component is disposed (if <code>Visible</code> is properly managed)</li>
</ul>
<h3 id="palette-integration">Palette Integration</h3>
<p>While the system tray icon itself uses standard Windows rendering, the component integrates with the Krypton palette system for consistency. This allows for future enhancements and ensures the component follows Krypton patterns.</p>
<h2 id="see-also">See Also</h2>
<ul>
<li><code>KryptonContextMenu</code> - For context menus</li>
<li><code>KryptonToolTip</code> - For tooltips</li>
<li>Standard WinForms <code>NotifyIcon</code> documentation</li>
</ul>

</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      <span>Krypton Component Suite 2024
BSD 3-Clause License
Â© Component Factory Pty Ltd, 2006 - 2016, All rights reserved.</span> <span>Modifications by Peter Wagner (aka Wagnerp), Simon Coghlan (aka Smurf-IV), Giduac, Tobitege, Lesarndro, KamaniAR & Ahmed Abdelhameed et al. 2017 - 2025. All rights reserved. <a href="https://github.com/Krypton-Suite">https://github.com/Krypton-Suite</a></span>
      
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../../../../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
