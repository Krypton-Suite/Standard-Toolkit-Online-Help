<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>KryptonProgressBar | Krypton Standard Toolkit Documentation </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="KryptonProgressBar | Krypton Standard Toolkit Documentation ">
    
    
      <link rel="shortcut icon" href="../../../Krypton.ico">
      <link rel="stylesheet" href="../../../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../../../styles/docfx.css">
      <link rel="stylesheet" href="../../../styles/main.css">
      <meta property="docfx:navrel" content="../../../toc.html">
      <meta property="docfx:tocrel" content="../../toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../Logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="kryptonprogressbar">KryptonProgressBar</h1>

<h2 id="overview">Overview</h2>
<p>The <code>KryptonProgressBar</code> class provides a Krypton-themed replacement for the standard Windows progress bar. It inherits from <code>Control</code> and implements <code>IContentValues</code> to provide enhanced visual styling, multiple progress styles, orientation support, alpha transparency, text overlay capabilities, and seamless integration with Krypton Toolkit theming.</p>
<h2 id="class-hierarchy">Class Hierarchy</h2>
<pre><code>System.Object
└── System.MarshalByRefObject
    └── System.ComponentModel.Component
        └── System.Windows.Forms.Control
            └── Krypton.Toolkit.KryptonProgressBar
</code></pre>
<h2 id="constructor-and-initialization">Constructor and Initialization</h2>
<pre><code class="lang-csharp">public KryptonProgressBar()
</code></pre>
<p>The constructor initializes enhanced features:</p>
<ul>
<li><strong>Double Buffering</strong>: Optimized drawing performance with anti-flicker controls</li>
<li><strong>Text Support</strong>: Accessibility-friendly text integration</li>
<li><strong>Non-Selectable</strong>: Properly configured to not accept focus</li>
<li><strong>Default Values</strong>: Standard progress bar range (0-100), step of 10</li>
<li><strong>Marquee Timer</strong>: Internal timer for marquee animations</li>
<li><strong>Palette Integration</strong>: Automatic Krypton palette detection and theming</li>
<li><strong>LabelValues</strong>: Content management system for text overlay</li>
<li><strong>State Management</strong>: Common, disabled, and normal visual states</li>
</ul>
<h2 id="key-properties">Key Properties</h2>
<h3 id="values-property">Values Property</h3>
<pre><code class="lang-csharp">[Category(&quot;Visuals&quot;)]
[Description(&quot;Progress Bar Label values&quot;)]
[DesignerSerializationVisibility(DesignerSerializationVisibility.Content)]
public LabelValues Values { get; }
</code></pre>
<ul>
<li><strong>Purpose</strong>: Provides full control over text display, styling, and content management</li>
<li><strong>Category</strong>: Visuals</li>
<li><strong>Type</strong>: <code>LabelValues</code> - Comprehensive text and content configuration</li>
<li><strong>Designer Visible</strong>: Yes (expandable in property grid)</li>
</ul>
<h3 id="style-property">Style Property</h3>
<pre><code class="lang-csharp">[DefaultValue(ProgressBarStyle.Continuous)]
public ProgressBarStyle Style { get; set; }
</code></pre>
<ul>
<li><strong>Purpose</strong>: Controls how progress is visually indicated</li>
<li><strong>Category</strong>: Behavior</li>
<li><strong>Available Styles</strong>:
<ul>
<li><code>Continuous</code>: Solid fill from left to right (default)</li>
<li><code>Marquee</code>: Animated scrolling indicator for indeterminate progress</li>
<li><code>Blocks</code>: Discrete block segments showing progress</li>
</ul>
</li>
</ul>
<p><strong>Usage Example:</strong></p>
<pre><code class="lang-csharp">progressBar.Style = ProgressBarStyle.Marquee; // Indeterminate progress
progressBar.Style = ProgressBarStyle.Continuous; // Determinate progress
progressBar.Style = ProgressBarStyle.Blocks; // Block-style progress
</code></pre>
<h3 id="blockcount-property">BlockCount Property</h3>
<pre><code class="lang-csharp">[DefaultValue(0)]
public int BlockCount { get; set; }
</code></pre>
<ul>
<li><strong>Purpose</strong>: Specifies number of blocks when using <code>ProgressBarStyle.Blocks</code></li>
<li><strong>Category</strong>: Behavior</li>
<li><strong>Default Value</strong>: 0 (automatic sizing based on height)</li>
<li><strong>Effect</strong>: Only applies when <code>Style</code> is set to <code>Blocks</code></li>
</ul>
<h3 id="valuebackcolorstyle-property">ValueBackColorStyle Property</h3>
<pre><code class="lang-csharp">[DefaultValue(PaletteColorStyle.GlassNormalFull)]
public PaletteColorStyle ValueBackColorStyle { get; set; }
</code></pre>
<ul>
<li><strong>Purpose</strong>: Controls color drawing style of the filled progress area</li>
<li><strong>Category</strong>: Visuals</li>
<li><strong>Default Value</strong>: <code>GlassNormalFull</code> - Translucent glass effect</li>
<li><strong>Other Options</strong>: Various gradient, flat, and specialized styles</li>
</ul>
<h3 id="text-enhancement-properties">Text Enhancement Properties</h3>
<pre><code class="lang-csharp">[DefaultValue(false)]
public bool ShowTextShadow { get; set; }

[DefaultValue(typeof(Color), nameof(Color.Empty))]
public Color TextShadowColor { get; set; }

[DefaultValue(false)]
public bool ShowTextBackdrop { get; set; }

[DefaultValue(typeof(Color), nameof(Color.Empty))]
public Color TextBackdropColor { get; set; }
</code></pre>
<p><strong>Advanced Text Features:</strong></p>
<ul>
<li><strong>Shadow Support</strong>: Adds depth to text with configurable shadow colors</li>
<li><strong>Backdrop Support</strong>: Places a rounded background behind text for readability</li>
<li><strong>Color Customization</strong>: Automatic color selection or custom colors</li>
</ul>
<h3 id="visual-states">Visual States</h3>
<pre><code class="lang-csharp">public PaletteTripleRedirect StateCommon { get; }
public PaletteTriple StateDisabled { get; }
public PaletteTriple StateNormal { get; }
</code></pre>
<ul>
<li><strong>StateCommon</strong>: Base styling that other states can override</li>
<li><strong>StateDisabled</strong>: Visual appearance when control is disabled</li>
<li><strong>StateNormal</strong>: Default visual appearance when enabled</li>
</ul>
<h2 id="progress-bar-operation">Progress Bar Operation</h2>
<h3 id="range-and-value-properties">Range and Value Properties</h3>
<pre><code class="lang-csharp">[DefaultValue(100)]
public int Maximum { get; set; }

[DefaultValue(0)]
public int Minimum { get; set; }

[DefaultValue(0)]
public int Value { get; set; }

[DefaultValue(10)]
public int Step { get; set; }
</code></pre>
<p><strong>Range Management:</strong></p>
<ul>
<li><strong>Validation</strong>: Automatic bounds checking and adjustment</li>
<li><strong>Value Constraints</strong>: Ensures Value stays within Minimum-Maximum range</li>
<li><strong>Step Control</strong>: Defines increment amount for <code>PerformStep()</code> method</li>
</ul>
<h3 id="orientation-support">Orientation Support</h3>
<pre><code class="lang-csharp">[DefaultValue(VisualOrientation.Top)]
public VisualOrientation Orientation { get; set; }
</code></pre>
<ul>
<li><strong>Horizontal Progress</strong>: <code>VisualOrientation.Bottom</code> (left-to-right)</li>
<li><strong>Vertical Progress</strong>: <code>VisualOrientation.Top</code> (top-to-bottom)</li>
<li><strong>RTL Support</strong>: Automatically handles right-to-left layouts</li>
</ul>
<h3 id="usevalueastext-property">UseValueAsText Property</h3>
<pre><code class="lang-csharp">[DefaultValue(false)]
public bool UseValueAsText { get; set; }
</code></pre>
<ul>
<li><strong>Purpose</strong>: Automatically displays current value as percentage text</li>
<li><strong>Format</strong>: Shows as &quot;{Value}%&quot; (e.g., &quot;75%&quot;)</li>
<li><strong>Integration</strong>: Works alongside custom <code>Text</code> property</li>
</ul>
<h3 id="marquee-animation">Marquee Animation</h3>
<pre><code class="lang-csharp">[DefaultValue(100)]
public int MarqueeAnimationSpeed { get; set; }
</code></pre>
<ul>
<li><strong>Purpose</strong>: Controls marquee animation speed in milliseconds</li>
<li><strong>Usage</strong>: Only applies when <code>Style</code> is <code>ProgressBarStyle.Marquee</code></li>
<li><strong>Performance</strong>: Lower values = faster animation</li>
</ul>
<h2 id="advanced-usage-patterns">Advanced Usage Patterns</h2>
<h3 id="indeterminate-progress">Indeterminate Progress</h3>
<pre><code class="lang-csharp">public void StartIndeterminateWork()
{
    progressBar.Style = ProgressBarStyle.Marquee;
    progressBar.MarqueeAnimationSpeed = 50; // Fast animation
    progressBar.Text = &quot;Processing...&quot;;
    
    // Start background work
    Task.Run(() =&gt; PerformLongRunningOperation());
}

public void CompleteWork()
{
    // Convert to determinate for final update
    progressBar.Style = ProgressBarStyle.Continuous;
    progressBar.Value = progressBar.Maximum;
    progressBar.Text = &quot;Complete!&quot;;
}
</code></pre>
<h3 id="block-style-progress">Block-Style Progress</h3>
<pre><code class="lang-csharp">public void SetupBlockProgress()
{
    // Configure for block display
    progressBar.Style = ProgressBarStyle.Blocks;
    progressBar.BlockCount = 20; // 20 discrete blocks
    
    // Configure visual styling
    progressBar.ValueBackColorStyle = PaletteColorStyle.Linear40;
    
    // Add custom text
    progressBar.ShowTextBackdrop = true;
    progressBar.TextBackdropColor = Color.FromArgb(100, Color.White);
    progressBar.Text = &quot;Processing items...&quot;;
}
</code></pre>
<h3 id="value-based-progress-with-steps">Value-Based Progress with Steps</h3>
<pre><code class="lang-csharp">public class TaskProgressManager
{
    private readonly KryptonProgressBar progressBar;
    private int currentStep = 0;
    private int totalSteps = 0;

    public TaskProgressManager(KryptonProgressBar progressBar)
    {
        this.progressBar = progressBar;
        ConfigureProgressBar();
    }

    public void InitializeTask(int totalSteps, string taskName)
    {
        this.totalSteps = totalSteps;
        currentStep = 0;
        
        progressBar.Minimum = 0;
        progressBar.Maximum = totalSteps;
        progressBar.Value = 0;
        progressBar.Text = $&quot;Starting {taskName}...&quot;;
        progressBar.Style = ProgressBarStyle.Continuous;
    }

    public void StepComplete(string stepDescription)
    {
        currentStep++;
        progressBar.PerformStep();
        
        float percentage = (float)currentStep / totalSteps * 100;
        progressBar.Text = $&quot;{stepDescription} ({percentage:F0}%)&quot;;
    }

    public void TaskComplete(string completionMessage)
    {
        progressBar.Value = progressBar.Maximum;
        progressBar.Text = completionMessage;
        
        // Show completion briefly then reset
        var timer = new System.Windows.Forms.Timer { Interval = 2000 };
        timer.Tick += (s, e) =&gt;
        {
            progressBar.Text = string.Empty;
            timer.Stop();
            timer.Dispose();
        };
        timer.Start();
    }

    private void ConfigureProgressBar()
    {
        progressBar.UseValueAsText = false; // Use custom text instead
        progressBar.ShowTextShadow = true;
        progressBar.ShowTextBackdrop = true;
        progressBar.ValueBackColorStyle = PaletteColorStyle.GlassNormalFull;
    }
}
</code></pre>
<h3 id="multi-stage-progress-with-visual-states">Multi-Stage Progress with Visual States</h3>
<pre><code class="lang-csharp">public class MultiStageProgress : UserControl
{
    private readonly KryptonProgressBar progressBar;
    private readonly List&lt;ProgressStage&gt; stages = new List&lt;ProgressStage&gt;();

    public class ProgressStage
    {
        public string Name { get; set; }
        public int Duration { get; set; }
        public PaletteColorStyle Style { get; set; }
        public string Message { get; set; }
    }

    public void AddStage(string name, int duration, string message, PaletteColorStyle style)
    {
        stages.Add(new ProgressStage
        {
            Name = name,
            Duration = duration,
            Message = message,
            Style = style
        });
    }

    public async Task ExecuteStages()
    {
        int totalDuration = stages.Sum(s =&gt; s.Duration);
        progressBar.Maximum = totalDuration;
        progressBar.Value = 0;
        progressBar.Style = ProgressBarStyle.Continuous;

        foreach (var stage in stages)
        {
            progressBar.Text = stage.Message;
            progressBar.ValueBackColorStyle = stage.Style;

            for (int i = 0; i &lt; stage.Duration; i += 100)
            {
                await Task.Delay(100); // Simulate work
                progressBar.Value += 100;
            }
        }

        progressBar.Text = &quot;All stages complete!&quot;;
    }
}
</code></pre>
<h2 id="design-time-integration">Design-Time Integration</h2>
<h3 id="visual-studio-designer">Visual Studio Designer</h3>
<ul>
<li><strong>Toolbox Integration</strong>: Available with custom bitmap representation</li>
<li><strong>Property Window</strong>: Comprehensive visual state configuration</li>
<li><strong>Default Properties</strong>: Value and binding property configured</li>
<li><strong>Serialization</strong>: Design-time settings saved to designer files</li>
</ul>
<h3 id="property-categories">Property Categories</h3>
<ul>
<li><strong>Behavior</strong>: Core progress functionality (<code>Style</code>, <code>Maximum</code>, <code>Minimum</code>, <code>Value</code>)</li>
<li><strong>Visuals</strong>: Appearance and styling properties (<code>Values</code>, <code>StateCommon</code>, <code>StateNormal</code>)</li>
<li><strong>Layout</strong>: Orientation and text positioning</li>
</ul>
<h2 id="performance-considerations">Performance Considerations</h2>
<ul>
<li><strong>Double Buffering</strong>: Eliminates flicker during updates</li>
<li><strong>Optimized Rendering</strong>: Efficient graphics operations for smooth animation</li>
<li><strong>Memory Management</strong>: Proper disposal of graphics resources</li>
<li><strong>Theme Integration</strong>: Lightweight palette switching without full repaints</li>
</ul>
<h2 id="common-issues-and-solutions">Common Issues and Solutions</h2>
<h3 id="marquee-animation-not-working">Marquee Animation Not Working</h3>
<p><strong>Issue</strong>: Marquee style not animating<br>
<strong>Solution</strong>: Ensure control is enabled and <code>Style</code> is properly set:</p>
<pre><code class="lang-csharp">progressBar.Style = ProgressBarStyle.Marquee;
progressBar.MarqueeAnimationSpeed = 50;
progressBar.Enabled = true; // Required for animation
</code></pre>
<h3 id="text-not-visible">Text Not Visible</h3>
<p><strong>Issue</strong>: Text overlay not showing despite being set<br>
<strong>Solution</strong>: Configure text rendering options:</p>
<pre><code class="lang-csharp">progressBar.ShowTextBackdrop = true;
progressBar.TextBackdropColor = Color.FromArgb(150, Color.Black);
progressBar.ShowTextShadow = false; // Ensure shadow isn't conflicting
</code></pre>
<h3 id="theme-not-applied">Theme Not Applied</h3>
<p><strong>Issue</strong>: Custom theming not visible<br>
<strong>Solution</strong>: Properly configure state properties:</p>
<pre><code class="lang-csharp">progressBar.StateNormal.Back.Color1 = Color.Blue;
progressBar.StateNormal.Back.Color2 = Color.DarkBlue;
progressBar.ValueBackColorStyle = PaletteColorStyle.Linear40;
</code></pre>
<h2 id="migration-from-standard-progressbar">Migration from Standard ProgressBar</h2>
<h3 id="direct-replacement">Direct Replacement</h3>
<pre><code class="lang-csharp">// Old code
ProgressBar progressBar = new ProgressBar();

// New code
KryptonProgressBar progressBar = new KryptonProgressBar();
</code></pre>
<h3 id="enhanced-features">Enhanced Features</h3>
<pre><code class="lang-csharp">// Standard ProgressBar (basic)
var standardPb = new ProgressBar();

// KryptonProgressBar (enhanced)
var kryptonPb = new KryptonProgressBar
{
    Style = ProgressBarStyle.Continuous,
    ValueBackColorStyle = PaletteColorStyle.GlassNormalFull,
    ShowTextBackdrop = true,
    TextBackdropColor = Color.FromArgb(100, Color.White),
    Text = &quot;Custom progress message&quot;,
    Orientation = VisualOrientation.Top
};
</code></pre>
<h2 id="real-world-integration-examples">Real-World Integration Examples</h2>
<h3 id="file-upload-progress">File Upload Progress</h3>
<pre><code class="lang-csharp">public class FileUploader : UserControl
{
    private KryptonProgressBar progressBar;
    private Label statusLabel;

    public async Task UploadFiles(List&lt;string&gt; filePaths)
    {
        progressBar.Maximum = filePaths.Count;
        progressBar.Value = 0;
        progressBar.Text = &quot;Starting upload...&quot;;

        for (int i = 0; i &lt; filePaths.Count; i++)
        {
            string fileName = Path.GetFileName(filePaths[i]);
            progressBar.Text = $&quot;Uploading {fileName}&quot;;
            
            await SimulateFileUpload(filePaths[i]);
            
            progressBar.PerformStep();
            
            // Update completion percentage
            int percentage = (i + 1) * 100 / filePaths.Count;
            statusLabel.Text = $&quot;Progress: {percentage}%&quot;;
        }

        progressBar.Text = &quot;Upload complete!&quot;;
        progressBar.ValueBackColorStyle = PaletteColorStyle.LinearGreen; // Success color
    }

    private async Task SimulateFileUpload(string filePath)
    {
        // Simulate upload process
        await Task.Delay(Random.Shared.Next(1000, 3000));
    }
}
</code></pre>
<h3 id="installation-progress-wizard">Installation Progress Wizard</h3>
<pre><code class="lang-csharp">public class InstallationWizard : Form
{
    private List&lt;InstallationStep&gt; installationSteps;
    private int currentStepIndex = 0;

    public class InstallationStep
    {
        public string Name { get; set; }
        public string Description { get; set; }
        public int Duration { get; set; }
        public bool IsCritical { get; set; }
    }

    public async Task ExecuteInstallation()
    {
        progressBar.Maximum = installationSteps.Count;
        progressBar.Value = 0;
        progressBar.ShowTextBackdrop = true;
        progressBar.TextBackdropColor = Color.FromArgb(200, Color.Black);

        foreach (var step in installationSteps)
        {
            // Update UI
            stepNameLabel.Text = step.Name;
            stepDescriptionLabel.Text = step.Description;
            
            progressBar.Text = $&quot;Step {currentStepIndex + 1}: {step.Name}&quot;;
            
            // Set color based on criticality
            if (step.IsCritical)
            {
                progressBar.ValueBackColorStyle = PaletteColorStyle.LinearRed;
            }
            else
            {
                progressBar.ValueBackColorStyle = PaletteColorStyle.GlassNormalFull;
            }

            // Simulate installation step
            await SimulateInstallationStep(step);

            // Update progress
            progressBar.PerformStep();
            currentStepIndex++;
        }

        // Completion
        progressBar.ValueBackColorStyle = PaletteColorStyle.LinearGreen;
        progressBar.Text = &quot;Installation complete!&quot;;
    }

    private async Task SimulateInstallationStep(InstallationStep step)
    {
        // Simulate step duration
        await Task.Delay(step. Duration);
    }
}
</code></pre>

</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      <span>Krypton Component Suite 2024
BSD 3-Clause License
© Component Factory Pty Ltd, 2006 - 2016, All rights reserved.</span> <span>Modifications by Peter Wagner (aka Wagnerp), Simon Coghlan (aka Smurf-IV), Giduac, Tobitege, Lesarndro, KamaniAR & Ahmed Abdelhameed et al. 2017 - 2025. All rights reserved. <a href="https://github.com/Krypton-Suite">https://github.com/Krypton-Suite</a></span>
      
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../../../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
