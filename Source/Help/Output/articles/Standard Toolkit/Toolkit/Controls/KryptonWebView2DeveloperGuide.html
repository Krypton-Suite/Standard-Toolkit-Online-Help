<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>KryptonWebView2 | Krypton Standard Toolkit Documentation </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="KryptonWebView2 | Krypton Standard Toolkit Documentation ">
    
    
      <link rel="shortcut icon" href="../../../../Krypton.ico">
      <link rel="stylesheet" href="../../../../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../../../../styles/docfx.css">
      <link rel="stylesheet" href="../../../../styles/main.css">
      <meta property="docfx:navrel" content="../../../../toc.html">
      <meta property="docfx:tocrel" content="../../../toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="svg" src="../../../../Logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="kryptonwebview2">KryptonWebView2</h1>

<h2 id="overview">Overview</h2>
<p>The <code>KryptonWebView2</code> control is a modern web browser control that integrates Microsoft's WebView2 engine with the Krypton Toolkit's theming system. It provides a consistent look and feel with other Krypton controls while offering modern web rendering capabilities based on Microsoft Edge Chromium.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li><a href="#quick-start">Quick Start</a></li>
<li><a href="#architecture-overview">Architecture Overview</a></li>
<li><a href="#api-reference">API Reference</a></li>
<li><a href="#advanced-features">Advanced Features</a></li>
<li><a href="#theming-integration">Theming Integration</a></li>
<li><a href="#context-menu-system">Context Menu System</a></li>
<li><a href="#performance-considerations">Performance Considerations</a></li>
<li><a href="#troubleshooting">Troubleshooting</a></li>
<li><a href="#migration-guide">Migration Guide</a></li>
<li><a href="#best-practices">Best Practices</a></li>
</ol>
<h2 id="quick-start">Quick Start</h2>
<h3 id="basic-usage">Basic Usage</h3>
<pre><code class="lang-csharp">using Krypton.Toolkit;

// Create the control
var webView = new KryptonWebView2();
webView.Size = new Size(800, 600);
webView.Location = new Point(10, 10);

// Add to form
this.Controls.Add(webView);

// Initialize and navigate
await webView.EnsureCoreWebView2Async();
webView.CoreWebView2?.Navigate(&quot;https://example.com&quot;);
</code></pre>
<h3 id="with-custom-context-menu">With Custom Context Menu</h3>
<pre><code class="lang-csharp">// Create custom context menu
var contextMenu = new KryptonContextMenu();
contextMenu.Items.Add(new KryptonContextMenuItem(&quot;Copy&quot;, null, CopyAction));
contextMenu.Items.Add(new KryptonContextMenuItem(&quot;Paste&quot;, null, PasteAction));
contextMenu.Items.Add(new KryptonContextMenuSeparator());
contextMenu.Items.Add(new KryptonContextMenuItem(&quot;Refresh&quot;, null, RefreshAction));

// Assign to WebView2
webView.KryptonContextMenu = contextMenu;
</code></pre>
<h2 id="architecture-overview">Architecture Overview</h2>
<h3 id="control-hierarchy">Control Hierarchy</h3>
<pre><code>KryptonWebView2 : WebView2
├── Palette Integration
├── Context Menu System
├── Rendering System
└── Theme Management
</code></pre>
<h3 id="key-components">Key Components</h3>
<ol>
<li><strong>WebView2 Engine</strong>: Microsoft's modern web rendering engine</li>
<li><strong>Krypton Palette System</strong>: Theme and styling integration</li>
<li><strong>Context Menu System</strong>: Customizable right-click menus</li>
<li><strong>Rendering Pipeline</strong>: Double-buffered, optimized drawing</li>
</ol>
<h3 id="conditional-compilation">Conditional Compilation</h3>
<p>The control is wrapped in <code>#if WEBVIEW2_AVAILABLE</code> directives, ensuring it only compiles when WebView2 dependencies are available.</p>
<h2 id="api-reference">API Reference</h2>
<h3 id="constructor">Constructor</h3>
<h4 id="kryptonwebview2-1"><code>KryptonWebView2()</code></h4>
<p>Initializes a new instance of the KryptonWebView2 class.</p>
<p><strong>Features Enabled:</strong></p>
<ul>
<li>Double buffering for smooth rendering</li>
<li>Resize redraw for proper repainting</li>
<li>Krypton palette system initialization</li>
<li>Global palette change notifications</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="lang-csharp">var webView = new KryptonWebView2();
</code></pre>
<h3 id="properties">Properties</h3>
<h4 id="kryptoncontextmenu"><code>KryptonContextMenu</code></h4>
<pre><code class="lang-csharp">[Category(&quot;Behavior&quot;)]
[Description(&quot;The shortcut menu to show when the user right-clicks the page.&quot;)]
[DefaultValue(null)]
public KryptonContextMenu? KryptonContextMenu { get; set; }
</code></pre>
<p><strong>Description:</strong> Gets and sets the KryptonContextMenu to show when right-clicked.</p>
<p><strong>Usage:</strong></p>
<pre><code class="lang-csharp">var contextMenu = new KryptonContextMenu();
contextMenu.Items.Add(new KryptonContextMenuItem(&quot;Custom Action&quot;));
webView.KryptonContextMenu = contextMenu;
</code></pre>
<p><strong>Behavior:</strong></p>
<ul>
<li>Overrides default WebView2 context menu</li>
<li>Shows at mouse position for right-clicks</li>
<li>Centers on control for keyboard activation (Menu key)</li>
<li>Setting to <code>null</code> restores default behavior</li>
</ul>
<h3 id="methods">Methods</h3>
<h4 id="createtoolstriprenderer"><code>CreateToolStripRenderer()</code></h4>
<pre><code class="lang-csharp">[Browsable(false)]
[EditorBrowsable(EditorBrowsableState.Advanced)]
public ToolStripRenderer? CreateToolStripRenderer()
</code></pre>
<p><strong>Description:</strong> Creates a tool strip renderer appropriate for the current renderer/palette pair.</p>
<p><strong>Returns:</strong> A <code>ToolStripRenderer</code> instance that provides Krypton-themed rendering for tool strips, or <code>null</code> if no renderer is available.</p>
<p><strong>Usage:</strong></p>
<pre><code class="lang-csharp">var renderer = webView.CreateToolStripRenderer();
if (renderer != null)
{
    myToolStrip.Renderer = renderer;
}
</code></pre>
<h4 id="getresolvedpalette"><code>GetResolvedPalette()</code></h4>
<pre><code class="lang-csharp">[Browsable(false)]
[EditorBrowsable(EditorBrowsableState.Never)]
public PaletteBase GetResolvedPalette()
</code></pre>
<p><strong>Description:</strong> Gets the resolved palette currently being used for rendering.</p>
<p><strong>Returns:</strong> A <code>PaletteBase</code> instance representing the currently active palette.</p>
<h3 id="events">Events</h3>
<h4 id="onglobalpalettechanged"><code>OnGlobalPaletteChanged</code></h4>
<pre><code class="lang-csharp">protected virtual void OnGlobalPaletteChanged(object? sender, EventArgs e)
</code></pre>
<p><strong>Description:</strong> Occurs when the global palette has been changed.</p>
<p><strong>Usage:</strong> Override this method to respond to global theme changes.</p>
<h2 id="advanced-features">Advanced Features</h2>
<h3 id="webview2-integration">WebView2 Integration</h3>
<p>The control inherits all WebView2 functionality while adding Krypton theming:</p>
<pre><code class="lang-csharp">// Initialize WebView2 engine
await webView.EnsureCoreWebView2Async();

// Access CoreWebView2 for advanced features
if (webView.CoreWebView2 != null)
{
    // Execute JavaScript
    await webView.CoreWebView2.ExecuteScriptAsync(&quot;console.log('Hello from KryptonWebView2!')&quot;);
    
    // Navigate to URL
    webView.CoreWebView2.Navigate(&quot;https://example.com&quot;);
    
    // Set user agent
    webView.CoreWebView2.Settings.UserAgent = &quot;MyKryptonApp/1.0&quot;;
    
    // Handle navigation events
    webView.CoreWebView2.NavigationStarting += OnNavigationStarting;
    webView.CoreWebView2.NavigationCompleted += OnNavigationCompleted;
}
</code></pre>
<h3 id="custom-navigation-handling">Custom Navigation Handling</h3>
<pre><code class="lang-csharp">private async void OnNavigationStarting(object? sender, CoreWebView2NavigationStartingEventArgs e)
{
    // Custom navigation logic
    if (e.Uri.Contains(&quot;blocked-site.com&quot;))
    {
        e.Cancel = true;
        await webView.CoreWebView2.ExecuteScriptAsync(&quot;alert('Site blocked!')&quot;);
    }
}

private void OnNavigationCompleted(object? sender, CoreWebView2NavigationCompletedEventArgs e)
{
    if (e.IsSuccess)
    {
        // Navigation successful
        this.Text = $&quot;Loaded: {webView.CoreWebView2.DocumentTitle}&quot;;
    }
    else
    {
        // Handle navigation error
        MessageBox.Show($&quot;Navigation failed: {e.WebErrorStatus}&quot;);
    }
}
</code></pre>
<h3 id="javascript-integration">JavaScript Integration</h3>
<pre><code class="lang-csharp">// Inject JavaScript
await webView.CoreWebView2.AddScriptToExecuteOnDocumentCreatedAsync(@&quot;
    window.kryptonTheme = {
        primaryColor: '#0078D4',
        backgroundColor: '#FFFFFF'
    };
&quot;);

// Call JavaScript functions
var result = await webView.CoreWebView2.ExecuteScriptAsync(&quot;getPageTitle()&quot;);
var title = JsonSerializer.Deserialize&lt;string&gt;(result);

// Handle JavaScript messages
webView.CoreWebView2.WebMessageReceived += OnWebMessageReceived;

private void OnWebMessageReceived(object? sender, CoreWebView2WebMessageReceivedEventArgs e)
{
    var message = e.TryGetWebMessageAsString();
    // Process message from web content
}
</code></pre>
<h2 id="theming-integration">Theming Integration</h2>
<h3 id="palette-system">Palette System</h3>
<p>The control automatically integrates with Krypton's palette system:</p>
<pre><code class="lang-csharp">// Global theme changes are automatically applied
KryptonManager.GlobalPalette = PaletteOffice2013Blue;

// The control will automatically update its appearance
</code></pre>
<h3 id="custom-theming">Custom Theming</h3>
<pre><code class="lang-csharp">// Access the resolved palette
var palette = webView.GetResolvedPalette();

// Create custom tool strip renderer
var renderer = webView.CreateToolStripRenderer();
if (renderer != null)
{
    // Apply to custom tool strips
    myCustomToolStrip.Renderer = renderer;
}
</code></pre>
<h3 id="theme-aware-web-content">Theme-Aware Web Content</h3>
<pre><code class="lang-csharp">// Inject theme information into web content
private async void ApplyThemeToWebContent()
{
    var palette = webView.GetResolvedPalette();
    var primaryColor = palette.GetColorTable().Color1;
    
    var script = $@&quot;
        document.documentElement.style.setProperty('--krypton-primary', '{primaryColor}');
        document.body.classList.add('krypton-themed');
    &quot;;
    
    await webView.CoreWebView2.ExecuteScriptAsync(script);
}
</code></pre>
<h2 id="context-menu-system">Context Menu System</h2>
<h3 id="basic-context-menu">Basic Context Menu</h3>
<pre><code class="lang-csharp">var contextMenu = new KryptonContextMenu();

// Add menu items
contextMenu.Items.Add(new KryptonContextMenuItem(&quot;Copy&quot;, null, CopyAction));
contextMenu.Items.Add(new KryptonContextMenuItem(&quot;Paste&quot;, null, PasteAction));
contextMenu.Items.Add(new KryptonContextMenuSeparator());
contextMenu.Items.Add(new KryptonContextMenuItem(&quot;Refresh&quot;, null, RefreshAction));

webView.KryptonContextMenu = contextMenu;
</code></pre>
<h3 id="advanced-context-menu">Advanced Context Menu</h3>
<pre><code class="lang-csharp">var contextMenu = new KryptonContextMenu();

// Add submenu
var editMenu = new KryptonContextMenuHeading(&quot;Edit&quot;);
editMenu.Items.Add(new KryptonContextMenuItem(&quot;Cut&quot;, Properties.Resources.CutIcon, CutAction));
editMenu.Items.Add(new KryptonContextMenuItem(&quot;Copy&quot;, Properties.Resources.CopyIcon, CopyAction));
editMenu.Items.Add(new KryptonContextMenuItem(&quot;Paste&quot;, Properties.Resources.PasteIcon, PasteAction));

// Add navigation submenu
var navMenu = new KryptonContextMenuHeading(&quot;Navigation&quot;);
navMenu.Items.Add(new KryptonContextMenuItem(&quot;Back&quot;, Properties.Resources.BackIcon, BackAction));
navMenu.Items.Add(new KryptonContextMenuItem(&quot;Forward&quot;, Properties.Resources.ForwardIcon, ForwardAction));
navMenu.Items.Add(new KryptonContextMenuItem(&quot;Refresh&quot;, Properties.Resources.RefreshIcon, RefreshAction));

contextMenu.Items.Add(editMenu);
contextMenu.Items.Add(navMenu);

webView.KryptonContextMenu = contextMenu;
</code></pre>
<h3 id="dynamic-context-menu">Dynamic Context Menu</h3>
<pre><code class="lang-csharp">private void SetupDynamicContextMenu()
{
    var contextMenu = new KryptonContextMenu();
    
    // Add items based on current state
    if (webView.CoreWebView2?.CanGoBack == true)
    {
        contextMenu.Items.Add(new KryptonContextMenuItem(&quot;Back&quot;, null, BackAction));
    }
    
    if (webView.CoreWebView2?.CanGoForward == true)
    {
        contextMenu.Items.Add(new KryptonContextMenuItem(&quot;Forward&quot;, null, ForwardAction));
    }
    
    contextMenu.Items.Add(new KryptonContextMenuItem(&quot;Refresh&quot;, null, RefreshAction));
    
    webView.KryptonContextMenu = contextMenu;
}
</code></pre>
<h2 id="performance-considerations">Performance Considerations</h2>
<h3 id="initialization">Initialization</h3>
<pre><code class="lang-csharp">// Initialize WebView2 engine asynchronously to avoid blocking UI
private async Task InitializeWebView2()
{
    try
    {
        // Show loading indicator
        ShowLoadingIndicator();
        
        // Initialize WebView2 engine
        await webView.EnsureCoreWebView2Async();
        
        // Configure settings for better performance
        webView.CoreWebView2.Settings.AreDefaultContextMenusEnabled = false;
        webView.CoreWebView2.Settings.AreDevToolsEnabled = false;
        webView.CoreWebView2.Settings.IsStatusBarEnabled = false;
        
        // Hide loading indicator
        HideLoadingIndicator();
    }
    catch (Exception ex)
    {
        // Handle initialization errors
        MessageBox.Show($&quot;Failed to initialize WebView2: {ex.Message}&quot;);
    }
}
</code></pre>
<h3 id="memory-management">Memory Management</h3>
<pre><code class="lang-csharp">// Proper disposal
protected override void Dispose(bool disposing)
{
    if (disposing)
    {
        // Clean up WebView2 resources
        webView?.Dispose();
    }
    base.Dispose(disposing);
}
</code></pre>
<h3 id="resource-optimization">Resource Optimization</h3>
<pre><code class="lang-csharp">// Configure WebView2 for optimal performance
private void ConfigureWebView2Performance()
{
    if (webView.CoreWebView2 != null)
    {
        // Disable unnecessary features
        webView.CoreWebView2.Settings.AreDefaultContextMenusEnabled = false;
        webView.CoreWebView2.Settings.AreDevToolsEnabled = false;
        webView.CoreWebView2.Settings.IsStatusBarEnabled = false;
        webView.CoreWebView2.Settings.AreHostObjectsAllowed = false;
        
        // Enable hardware acceleration
        webView.CoreWebView2.Settings.IsGeneralAutofillEnabled = false;
        webView.CoreWebView2.Settings.IsPasswordAutosaveEnabled = false;
    }
}
</code></pre>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="common-issues">Common Issues</h3>
<h4 id="webview2-runtime-not-installed">WebView2 Runtime Not Installed</h4>
<p><strong>Error:</strong> <code>WebView2 runtime not found</code></p>
<p><strong>Solution:</strong></p>
<pre><code class="lang-csharp">try
{
    await webView.EnsureCoreWebView2Async();
}
catch (WebView2RuntimeNotFoundException)
{
    MessageBox.Show(&quot;WebView2 Runtime is not installed. Please install it from: https://developer.microsoft.com/en-us/microsoft-edge/webview2/&quot;);
}
</code></pre>
<h4 id="initialization-failures">Initialization Failures</h4>
<p><strong>Error:</strong> <code>EnsureCoreWebView2Async failed</code></p>
<p><strong>Solution:</strong></p>
<pre><code class="lang-csharp">private async Task&lt;bool&gt; InitializeWebView2WithRetry()
{
    int maxRetries = 3;
    int retryCount = 0;
    
    while (retryCount &lt; maxRetries)
    {
        try
        {
            await webView.EnsureCoreWebView2Async();
            return true;
        }
        catch (Exception ex)
        {
            retryCount++;
            if (retryCount &gt;= maxRetries)
            {
                MessageBox.Show($&quot;Failed to initialize WebView2 after {maxRetries} attempts: {ex.Message}&quot;);
                return false;
            }
            
            // Wait before retry
            await Task.Delay(1000 * retryCount);
        }
    }
    
    return false;
}
</code></pre>
<h4 id="context-menu-not-showing">Context Menu Not Showing</h4>
<p><strong>Issue:</strong> Custom context menu not appearing</p>
<p><strong>Solution:</strong></p>
<pre><code class="lang-csharp">// Ensure context menu is properly assigned
if (webView.KryptonContextMenu == null)
{
    var contextMenu = new KryptonContextMenu();
    contextMenu.Items.Add(new KryptonContextMenuItem(&quot;Test&quot;));
    webView.KryptonContextMenu = contextMenu;
}

// Check if WebView2 default context menus are disabled
if (webView.CoreWebView2 != null)
{
    webView.CoreWebView2.Settings.AreDefaultContextMenusEnabled = false;
}
</code></pre>
<h3 id="debugging-tips">Debugging Tips</h3>
<h4 id="enable-developer-tools">Enable Developer Tools</h4>
<pre><code class="lang-csharp">// Enable developer tools for debugging
webView.CoreWebView2.Settings.AreDevToolsEnabled = true;

// Open developer tools programmatically
webView.CoreWebView2.OpenDevToolsWindow();
</code></pre>
<h4 id="logging-and-diagnostics">Logging and Diagnostics</h4>
<pre><code class="lang-csharp">// Enable logging
webView.CoreWebView2.CallDevToolsProtocolMethodAsync(&quot;Runtime.enable&quot;, &quot;{}&quot;);

// Handle console messages
webView.CoreWebView2.ConsoleMessageReceived += OnConsoleMessageReceived;

private void OnConsoleMessageReceived(object? sender, CoreWebView2ConsoleMessageReceivedEventArgs e)
{
    Debug.WriteLine($&quot;WebView2 Console: {e.Message}&quot;);
}
</code></pre>
<h2 id="migration-guide">Migration Guide</h2>
<h3 id="from-webbrowser-control">From WebBrowser Control</h3>
<pre><code class="lang-csharp">// Old WebBrowser approach
var webBrowser = new WebBrowser();
webBrowser.Navigate(&quot;https://example.com&quot;);

// New KryptonWebView2 approach
var webView = new KryptonWebView2();
await webView.EnsureCoreWebView2Async();
webView.CoreWebView2?.Navigate(&quot;https://example.com&quot;);
</code></pre>
<h3 id="from-kryptonwebbrowser">From KryptonWebBrowser</h3>
<pre><code class="lang-csharp">// Old KryptonWebBrowser
var kryptonWebBrowser = new KryptonWebBrowser();
kryptonWebBrowser.Navigate(&quot;https://example.com&quot;);

// New KryptonWebView2
var webView = new KryptonWebView2();
await webView.EnsureCoreWebView2Async();
webView.CoreWebView2?.Navigate(&quot;https://example.com&quot;);
</code></pre>
<h3 id="event-migration">Event Migration</h3>
<pre><code class="lang-csharp">// WebBrowser events
webBrowser.DocumentCompleted += OnDocumentCompleted;
webBrowser.Navigating += OnNavigating;

// WebView2 events
webView.CoreWebView2.NavigationCompleted += OnNavigationCompleted;
webView.CoreWebView2.NavigationStarting += OnNavigationStarting;
</code></pre>
<h2 id="best-practices">Best Practices</h2>
<h3 id="1-async-initialization">1. Async Initialization</h3>
<pre><code class="lang-csharp">// Always initialize WebView2 asynchronously
private async void Form_Load(object sender, EventArgs e)
{
    await InitializeWebView2();
}

private async Task InitializeWebView2()
{
    try
    {
        await webView.EnsureCoreWebView2Async();
        // Configure settings after initialization
        ConfigureWebView2Settings();
    }
    catch (Exception ex)
    {
        // Handle initialization errors
        LogError($&quot;WebView2 initialization failed: {ex.Message}&quot;);
    }
}
</code></pre>
<h3 id="2-proper-resource-management">2. Proper Resource Management</h3>
<pre><code class="lang-csharp">// Implement proper disposal
protected override void Dispose(bool disposing)
{
    if (disposing)
    {
        // Unsubscribe from events
        if (webView.CoreWebView2 != null)
        {
            webView.CoreWebView2.NavigationStarting -= OnNavigationStarting;
            webView.CoreWebView2.NavigationCompleted -= OnNavigationCompleted;
        }
        
        // Dispose WebView2 control
        webView?.Dispose();
    }
    base.Dispose(disposing);
}
</code></pre>
<h3 id="3-error-handling">3. Error Handling</h3>
<pre><code class="lang-csharp">// Comprehensive error handling
private async Task NavigateSafely(string url)
{
    try
    {
        if (webView.CoreWebView2 != null)
        {
            await webView.CoreWebView2.NavigateAsync(url);
        }
    }
    catch (WebView2RuntimeNotFoundException)
    {
        ShowWebView2RuntimeError();
    }
    catch (Exception ex)
    {
        LogError($&quot;Navigation failed: {ex.Message}&quot;);
        ShowErrorMessage($&quot;Failed to navigate to {url}&quot;);
    }
}
</code></pre>
<h3 id="4-theme-integration">4. Theme Integration</h3>
<pre><code class="lang-csharp">// Respond to theme changes
private void OnGlobalPaletteChanged(object? sender, EventArgs e)
{
    // Update web content theme
    ApplyThemeToWebContent();
}

private async void ApplyThemeToWebContent()
{
    if (webView.CoreWebView2 != null)
    {
        var palette = webView.GetResolvedPalette();
        var primaryColor = palette.GetColorTable().Color1;
        
        var script = $@&quot;
            document.documentElement.style.setProperty('--krypton-primary', '{primaryColor}');
        &quot;;
        
        await webView.CoreWebView2.ExecuteScriptAsync(script);
    }
}
</code></pre>
<h3 id="5-performance-optimization">5. Performance Optimization</h3>
<pre><code class="lang-csharp">// Optimize for performance
private void OptimizeWebView2Performance()
{
    if (webView.CoreWebView2 != null)
    {
        // Disable unnecessary features
        webView.CoreWebView2.Settings.AreDefaultContextMenusEnabled = false;
        webView.CoreWebView2.Settings.AreDevToolsEnabled = false;
        webView.CoreWebView2.Settings.IsStatusBarEnabled = false;
        
        // Configure for better performance
        webView.CoreWebView2.Settings.IsGeneralAutofillEnabled = false;
        webView.CoreWebView2.Settings.IsPasswordAutosaveEnabled = false;
    }
}
</code></pre>
<h2 id="conclusion">Conclusion</h2>
<p>The <code>KryptonWebView2</code> control provides a powerful, modern web browsing experience while maintaining full integration with the Krypton Toolkit's theming system. By following the best practices outlined in this guide, developers can create rich, themed web applications that provide a consistent user experience across their entire application.</p>
<p>For more information about WebView2 capabilities, refer to the <a href="https://docs.microsoft.com/en-us/microsoft-edge/webview2/">Microsoft WebView2 documentation</a>.</p>
<p>For Krypton Toolkit theming information, refer to the <a href="https://github.com/Krypton-Suite/Standard-Toolkit">Krypton Toolkit documentation</a>.</p>

</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      <span>Krypton Component Suite 2024
BSD 3-Clause License
© Component Factory Pty Ltd, 2006 - 2016, All rights reserved.</span> <span>Modifications by Peter Wagner (aka Wagnerp), Simon Coghlan (aka Smurf-IV), Giduac, Tobitege, Lesarndro, KamaniAR & Ahmed Abdelhameed et al. 2017 - 2025. All rights reserved. <a href="https://github.com/Krypton-Suite">https://github.com/Krypton-Suite</a></span>
      
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../../../../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
